(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[846],{11511:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sell-vs-borrow",function(){return a(44255)}])},27926:function(e,t,a){"use strict";a.d(t,{$:function(){return v}});var r,s=a(52322),o=a(38421),l=a.n(o),n=a(39097),i=a.n(n),c=a(2784);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},d.apply(null,arguments)}var u,h=function(e){return c.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 5 1036 990"},e),r||(r=c.createElement("path",{d:"M0 120c0-33.334 11.667-60.834 35-82.5C58.333 15.833 88.667 5 126 5c36.667 0 66.333 10.666 89 32 23.333 22 35 50.666 35 86 0 32-11.333 58.666-34 80-23.333 22-54 33-92 33h-1c-36.667 0-66.333-11-89-33S0 153.333 0 120zm13 875V327h222v668H13zm345 0h222V622c0-23.334 2.667-41.334 8-54 9.333-22.667 23.5-41.834 42.5-57.5 19-15.667 42.833-23.5 71.5-23.5 74.667 0 112 50.333 112 151v357h222V612c0-98.667-23.333-173.5-70-224.5S857.667 311 781 311c-86 0-153 37-201 111v2h-1l1-2v-95H358c1.333 21.333 2 87.666 2 199 0 111.333-.667 267.666-2 469z"})))};function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},m.apply(null,arguments)}var x=function(e){return c.createElement("svg",m({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),u||(u=c.createElement("path",{d:"M13.995 10.162L22.749 0h-2.075l-7.6 8.824L7.001 0H0l9.18 13.343L0 24h2.075l8.026-9.318L16.514 24h7.002l-9.52-13.838zm-2.842 3.299l-.93-1.329L2.822 1.56h3.186l5.973 8.532.93 1.329 7.764 11.09H17.49l-6.336-9.05z",fill:"#fff"})))},f=a(3333),p=a(12018);const g=(new Date).getFullYear(),v=e=>{let{className:t}=e;return(0,s.jsxs)("footer",{className:(0,f.A)("text-frecDarkBeige bg-frecBlack grid grid-cols-[auto_minmax(0,_86rem)_auto] text-center",t),children:[(0,s.jsx)("div",{className:""}),(0,s.jsx)("div",{className:"dotted-v relative flex flex-col-reverse px-6 py-8 pb-9 lg:mx-12 lg:border-x lg:px-16",children:(0,s.jsxs)("div",{className:"flex w-full flex-col items-center",children:[(0,s.jsxs)("div",{className:"mb-6 flex flex-row gap-4 font-normal",children:[(0,s.jsx)(i(),{href:p.Y.about,className:"hover:text-frecWhite hover:underline",children:"About"}),(0,s.jsx)(i(),{href:"https://help.frec.com/",className:"hover:text-frecWhite hover:underline",children:"Help center"}),(0,s.jsx)(i(),{href:"mailto:help@frec.com",className:"hover:text-frecWhite hover:underline",children:"Contact"}),(0,s.jsx)(i(),{href:p.Y.disclosures,className:"hover:text-frecWhite hover:underline",children:"Disclosures"}),(0,s.jsx)(i(),{href:p.Y.rss,className:"hover:text-frecWhite sr-only hover:underline",type:"application/rss+xml",rel:"alternate",children:"RSS"})]}),(0,s.jsxs)("div",{className:"mb-6 flex flex-row items-center gap-4",children:[(0,s.jsx)(i(),{href:"https://twitter.com/frecfinance",target:"_blank",rel:"noreferrer",title:"Frec on Twitter",children:(0,s.jsx)(x,{alt:"Twitter",className:"fill-frecDarkBeige hover:fill-frecWhite",width:24,height:24})}),(0,s.jsx)(i(),{href:"https://www.linkedin.com/company/frecfinance/",target:"_blank",rel:"noreferrer",title:"Frec on LinkedIn",children:(0,s.jsx)(h,{alt:"LinkedIn",className:"fill-frecDarkBeige hover:fill-frecWhite",width:24,height:24})})]}),(0,s.jsx)(i(),{href:p.Y.root,passHref:!0,className:"my-4",children:(0,s.jsx)(l(),{alt:"Frec logo",className:"cursor-pointer p-3",src:"/webstatic/logo/frec-white.svg",width:77,height:20})}),(0,s.jsxs)("div",{className:"text-xs",children:["\xa9 ",g," Frec Markets, Inc. All rights reserved."]})]})}),(0,s.jsx)("div",{className:""})]})}},48546:function(e,t,a){"use strict";a.d(t,{k:function(){return u}});var r=a(52322),s=a(48961),o=a(8443),l=a(50817),n=a(45746),i=a(2784),c=a(35500),d=a(3333);const u=e=>{let{className:t,children:a,width:u=350,iconSize:h=20,text:m,useQuestionMarkIcon:x,position:f="bottom",withArrow:p=!1}=e;const g=(0,c.d)(),[v,y]=(0,i.useState)(!1),j=(0,r.jsxs)("button",{title:"Info",className:(0,d.A)("hover:text-frecBlack inline-flex items-center justify-end align-baseline",m?"gap-1":"h-4 w-4",t),onClick:()=>y(!0),children:[m," ",x?(0,r.jsx)(s.Z,{height:h,width:h,className:"h-4 w-4"}):(0,r.jsx)(o.Z,{height:h,width:h,className:"h-4 w-4"})]});return g?(0,r.jsxs)(r.Fragment,{children:[j,(0,r.jsx)(l.d,{className:"text-sm",classNames:{content:"!h-auto p-6 rounded-t-2xl bg-frecXXLightGray"},position:"bottom",opened:v,onClose:()=>y(!1),title:m,withCloseButton:!1,transitionProps:{transition:"slide-up"},children:a})]}):(0,r.jsxs)(n.J,{opened:v,position:f,width:u,onClose:()=>y(!1),classNames:{dropdown:"text-frecXDarkGray text-sm frec-shadow rounded-lg bg-frecWhite !pr-6"},withArrow:p,withinPortal:!0,children:[(0,r.jsx)(n.J.Target,{children:j}),(0,r.jsx)(n.J.Dropdown,{children:a})]})}},66479:function(e,t,a){"use strict";a.d(t,{y:function(){return h}});var r=a(52322),s=a(2784),o=a(56710);const l=()=>(0,o.o4)("external_rates",{loading:void 0,missing:{externalRates:[],tieredExternalRates:void 0,updatedAt:""}},{user:null,isEmployee:!1});var n=a(35500),i=a(52397),c=a(3333),d=a(86758);const u=Intl.NumberFormat("en",{notation:"compact"}),h=()=>{const{data:e}=(0,d.i8_)(),{tieredExternalRates:t}=l();return e&&t?(0,r.jsx)(m,{}):null},m=()=>{const{data:e}=(0,d.i8_)(),{tieredExternalRates:t,updatedAt:a}=l(),o=(0,n.d)(),h=null===t||void 0===t?void 0:t.reduce(((e,t)=>(t.tiers.forEach((t=>{e.includes(t.tier)||e.push(t.tier)})),e)),[]);return null===h||void 0===h||h.sort(((e,t)=>e-t)),e&&t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{role:"table","aria-label":"Margin loan rates",className:"dotted-h grid grid-flow-col grid-cols-[repeat(5,auto_1px)] grid-rows-6 border-y text-[12px] lg:grid-flow-row lg:grid-cols-6 lg:grid-rows-[repeat(5,100px_1px)] lg:text-[16px]",children:[(0,r.jsx)("div",{className:"dotted-v flex items-center bg-[#E9E5DD] px-2 lg:border-r lg:px-9"}),(0,r.jsx)("div",{className:"dotted-v bg-frecNeon flex items-center px-2 py-3 lg:justify-center lg:px-9",children:o?"Frec":(0,r.jsx)(i.Z,{width:"84",src:"/webstatic/logo/frec.svg","aria-label":"Frec"})}),t.map(((e,t)=>(0,r.jsx)("div",{className:(0,c.A)("dotted-v flex items-center px-2 lg:justify-center lg:bg-[#E9E5DD] lg:px-9 lg:text-center",3===t?"":"lg:border-r"),children:e.name},e.name))),null===h||void 0===h?void 0:h.map((a=>(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)("div",{className:"dotted-h border-b"}),(0,r.jsx)("div",{className:"dotted-h bg-frecNeon border-b"}),(0,r.jsx)("div",{className:"dotted-h row-span-4 border-b lg:col-span-4 lg:row-auto"}),(0,r.jsxs)("div",{className:"dotted-v flex items-center justify-center bg-[#E9E5DD] px-2 lg:border-r lg:bg-transparent lg:px-9",children:["$",u.format(a)]}),(0,r.jsxs)("div",{className:"dotted-v bg-frecNeon flex items-center justify-center px-2 lg:border-r lg:px-9",children:[e.times(100).toFixed(2),"%"]}),t.map(((e,t)=>{const s=e.tiers.find((e=>e.tier===a));return s?(0,r.jsx)("div",{className:(0,c.A)("dotted-v text-frecBlack/60 flex items-center justify-center px-2 lg:px-9",3===t?"":"lg:border-r"),children:"-"===s.rate?"Call":"".concat(s.rate,"%")},e.name):(0,r.jsx)("td",{})}))]},a)))]}),(0,r.jsxs)("p",{className:"text-frecDarkerBlack/50 mx-auto mt-8 max-w-xl text-center text-xs",children:["Based on the US News & World Reports\u2019 top four largest brokerage firms of 2024. All rates are as of ",a,", the date of the last adjustment made to the EFFR by the Federal Reserve. Rates pulled from each competitor\u2019s website and are subject to change without notice."]})]}):null}},44255:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return ot},default:function(){return lt}});var r=a(52322),s=a(97729),o=a.n(s),l=a(5622),n=a(27926),i=a(97961),c=a(10797),d=a(66479);const u=()=>(0,r.jsxs)("section",{className:"grid grid-cols-[auto_minmax(0,_86rem)_auto] grid-rows-[76px_auto_1px]",children:[(0,r.jsx)("div",{className:""}),(0,r.jsx)("div",{className:"dotted-v lg:mx-12 lg:border-x"}),(0,r.jsx)("div",{className:""}),(0,r.jsx)("div",{className:""}),(0,r.jsxs)("div",{className:"dotted-v flex flex-col items-center justify-center p-6 lg:mx-12 lg:border-x lg:!p-16",children:[(0,r.jsx)("h2",{className:"text-frecBlack text-center text-4xl font-normal md:text-left",children:"Ready to get started with Frec?"}),(0,r.jsx)("p",{className:"my-6 max-w-xl text-center text-xl",children:"Borrow against a portfolio line of credit at one of the lowest rates with Frec."}),(0,r.jsx)(d.y,{})]}),(0,r.jsx)("div",{className:""}),(0,r.jsx)("div",{className:"dotted-h col-span-3 border-b"})]});var h=a(59790),m=a(2784),x=a(35500),f=a(48546),p=a(66197),g=a(74002),v=a(86758);const y="SPY",j=()=>(0,m.useMemo)((()=>p.uE7.now(p.PqU).toString()),[]),b=e=>{let{startDate:t,endDate:a,holdings:r}=e;var s;const o=j();var l;const n=(0,v.ytS)({variables:{input:{seedSymbol:y,endDate:a,startDate:null!==t&&void 0!==t?t:new p.uE7(o),symbols:null!==(l=null===r||void 0===r?void 0:r.map((e=>e.symbol)))&&void 0!==l?l:[],interval:v.MWE.Month}},skip:!t||!a||!r}),i=null===(s=n.data)||void 0===s?void 0:s.betaValues;var c;return(0,m.useMemo)((()=>i&&r&&!n.loading?r.map((e=>{var t;return{symbol:e.symbol,beta:null!==(c=null===(t=i.find((t=>t.symbol===e.symbol)))||void 0===t?void 0:t.beta)&&void 0!==c?c:1}})):void 0),[i,n.loading,r])};var w=a(81980),k=a(6841),N=a(95606),C=a(95397);const S=e=>{var t;const{data:a,loading:r}=(0,v.xlc)({variables:{symbols:null!==(t=null===e||void 0===e?void 0:e.map((e=>e.symbol)))&&void 0!==t?t:[]},skip:!e});return(0,m.useMemo)((()=>({data:e&&a&&!r?e.map((e=>{var t;const r=null===a||void 0===a?void 0:a.quote.find((t=>t.symbol===e.symbol)),s=r?new g.Z(r.price):new g.Z(1),o=new g.Z(e.value).div(s),l=e.cost?new g.Z(e.cost).div(o):s.mul(.75);return{...e,costBasis:l,quantity:o,price:s,marginRequirement:(null===r||void 0===r?void 0:r.marginRequirement)?new g.Z(null===r||void 0===r||null===(t=r.marginRequirement)||void 0===t?void 0:t.maintenanceRequirement):new g.Z(0),type:v.aZc.Equity,subType:v.d1I.CommonStock}})):null,loading:r})),[a,e,r])};var A=a(3333);const D=e=>{let{icon:t,title:a,value:s,onClick:o,active:l,className:n}=e;return(0,r.jsxs)("button",{className:(0,A.A)("border-frecMidGray text-frecBlack focus:!border-frecBlack hover:border-frecDarkGray flex w-full items-center rounded-full border px-4 py-3 leading-5 focus:outline-none",l?"!border-frecBlack bg-frecXLightGray":"",n),onClick:o,children:[!!t&&(0,r.jsx)(t,{height:16,className:"mr-3"}),(0,r.jsx)("span",{className:"w-full min-w-0 truncate text-left",children:a}),!!s&&(0,r.jsx)("span",{className:"grow whitespace-nowrap pl-6 text-right font-semibold",children:s})]})},R=()=>(0,r.jsxs)("div",{className:"text-frecMidGray my-3 flex items-center justify-center gap-3",children:[(0,r.jsx)("hr",{className:"border-frecMidGray grow border-t"}),(0,r.jsx)("span",{children:"or"}),(0,r.jsx)("hr",{className:"border-frecMidGray grow border-t"})]});var T=a(24108);const M=e=>{let{onUpdate:t,children:a}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grow overflow-auto",id:"scroll-to",children:a}),(0,r.jsx)("div",{className:"border-frecMidGray border-t p-6",children:(0,r.jsx)(T.zx,{small:!0,onClick:t,className:"w-full rounded-full",children:"Update"})})]})};var F,E;!function(e){e.OneTime="one-time",e.Monthly="monthly"}(F||(F={})),function(e){e[e.Home=0]="Home",e[e.Investment=1]="Investment",e[e.Car=2]="Car",e[e.Mortgage=3]="Mortgage",e[e.Custom=4]="Custom"}(E||(E={}));const P=[{title:"Down payment for a Bay Area home",icon:w.Z,data:{amount:4e5,type:E.Home,interval:F.OneTime}},{title:"Angel investment",icon:k.Z,data:{amount:1e5,type:E.Investment,interval:F.OneTime}},{title:"Tesla model 3",icon:N.Z,data:{amount:5e4,type:E.Car,interval:F.OneTime}}],B=()=>{const{loan:e,setLoan:t,setOpened:a}=he(),[s,o]=(0,m.useState)(e),l=he(),{data:n,loading:i}=S(l.portfolio.holdings),c=(0,m.useMemo)((()=>i||!n?0:(0,p.T$q)({holdings:n}).toNumber()),[n,i]),d=s.type===E.Custom,u=(0,m.useCallback)((e=>{"string"!==typeof e&&o((t=>({...t,amount:e})))}),[o]),h=(0,m.useCallback)((()=>{t(s),a(-1)}),[s,a,t]);var x;return(0,r.jsx)(M,{onUpdate:h,children:(0,r.jsxs)("div",{className:"flex flex-col gap-3 p-8",children:[P.map(((e,t)=>{let{title:a,data:l,icon:n}=e;return(0,r.jsx)(D,{title:a,icon:n,value:O(l),onClick:()=>o(l),active:s.type===l.type},"lad-".concat(t))})),(0,r.jsx)(R,{}),(0,r.jsx)(D,{title:"Custom amount",onClick:()=>o({type:E.Custom,interval:F.OneTime,amount:0}),active:d}),d&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.Y,{className:"mt-3",label:"Amount",hideControls:!0,defaultValue:null!==(x=s.amount)&&void 0!==x?x:1e6,onChange:u,min:0,classNames:{input:"h-[46px] rounded-xl",label:"text-frecXDarkGray text-base mb-1"},thousandSeparator:","}),(0,r.jsxs)("span",{className:"text-frecDarkGray",children:["Borrowing power ",(0,p.gCK)(c)]})]})]})})},O=e=>(0,p.Hwr)(e.amount)+("one-time"!==e.interval?" ".concat(e.interval):""),H=e=>{if(e.type===E.Custom)return{title:"Custom amount",value:O(e)};const t=P.find((t=>t.data.type===e.type));if(!t)throw new Error("Cannot find preset");return{...t,value:O(t.data)}};var I=a(91051),G=a(69297),X=a(91992),z=a(92795),Y=a(86414),q=a(91166),W=a(24561);const _=e=>{let{open:t,onClose:a,onSavePortfolio:s,holdings:o}=e;const l=(0,W.c)({initialValues:{holdings:o},validate:{holdings:{symbol:e=>e?null:"Symbol required",value:e=>e<=0?"Value invalid":null}}}),n=0===l.values.holdings.length;(0,m.useEffect)((()=>{l.setValues({holdings:o})}),[o]);const[i]=(0,v.B5S)(),c=(0,m.useCallback)((()=>{l.clearErrors();l.validate().hasErrors||(s(l.values.holdings),a(n))}),[l,a,s,n]),d=(0,m.useCallback)((async e=>{l.clearErrors();const t=l.values.holdings[e].symbol,a=l.validateField("holdings.".concat(e,".symbol"));if(!t||a.hasError)return;const{data:r}=await i({variables:{symbols:[t]}});(null===r||void 0===r?void 0:r.quote)&&0!==r.quote.length?l.setFieldValue("holdings.".concat(e,".symbol"),t.toUpperCase()):l.setFieldError("holdings.".concat(e,".symbol"),"Symbol not supported")}),[l,i]),u=(0,m.useCallback)((()=>{l.insertListItem("holdings",{symbol:"",value:0,cost:0})}),[l]);return(0,r.jsxs)(z.u,{opened:t,onClose:()=>a(n),size:"auto",title:(0,r.jsx)("span",{className:"text-2xl",children:"Select stocks"}),padding:24,children:[(0,r.jsxs)("table",{className:"-mx-4 border-separate border-spacing-4",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"font-book text-frecDarkGray w-48 text-left text-sm",children:"Symbol"}),(0,r.jsx)("th",{className:"font-book text-frecDarkGray w-48 text-left text-sm",children:(0,r.jsxs)("div",{className:"flex items-center",children:["Current value"," ",(0,r.jsx)(f.k,{iconSize:14,width:220,children:"The current value is how much your position is worth today based on current market prices."})]})}),(0,r.jsx)("th",{className:"font-book text-frecDarkGray w-48 text-left text-sm",children:(0,r.jsxs)("div",{className:"flex items-center",children:["Total amount paid"," ",(0,r.jsx)(f.k,{iconSize:14,width:220,children:"The total amount paid is how much you paid to purchase or receive your shares. If you don\u2019t know the exact amount paid, just enter an estimate."})]})}),(0,r.jsx)("th",{children:(0,r.jsx)(X.A,{onClick:()=>l.setValues({holdings:[]}),size:20,variant:"transparent",children:(0,r.jsx)(G.Z,{className:"h-5 w-5"})})})]})}),(0,r.jsx)("tbody",{children:l.values.holdings.map(((e,t)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"align-top",children:(0,r.jsx)(Y.o,{...l.getInputProps("holdings.".concat(t,".symbol")),classNames:{input:"rounded-xl"},onBlur:()=>d(t)})}),(0,r.jsx)("td",{className:"align-top",children:(0,r.jsx)(C.Y,{...l.getInputProps("holdings.".concat(t,".value")),onChange:e=>l.getInputProps("holdings.".concat(t,".value")).onChange("string"!==typeof e?e:0),hideControls:!0,removeTrailingZeros:!0,decimalScale:2,defaultValue:0,min:0,prefix:"$",thousandSeparator:",",classNames:{label:"text-frecXDarkGray text-base mb-1",input:"rounded-xl"}})}),(0,r.jsx)("td",{className:"align-top",children:(0,r.jsx)(C.Y,{...l.getInputProps("holdings.".concat(t,".cost")),onChange:e=>l.getInputProps("holdings.".concat(t,".cost")).onChange("string"!==typeof e?e:0),hideControls:!0,min:0,defaultValue:0,removeTrailingZeros:!0,decimalScale:2,prefix:"$",thousandSeparator:",",classNames:{label:"text-frecXDarkGray text-base mb-1",input:"rounded-xl"}})}),(0,r.jsx)("td",{children:(0,r.jsx)(X.A,{onClick:()=>l.removeListItem("holdings",t),size:20,children:(0,r.jsx)(G.Z,{className:"h-5 w-5"})})})]},t)))})]}),(0,r.jsxs)(q.k,{className:"text-frecBlack flex items-center gap-1 hover:underline",onClick:u,children:[(0,r.jsx)(h.Z,{className:"h-4 w-4"})," Add symbol"]}),(0,r.jsx)("hr",{className:"border-frecMidGray my-6 w-full border-t"}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-frecXDarkGray",children:"Total value"}),(0,r.jsx)("span",{children:(0,p.gCK)(K(l.values))}),(0,r.jsx)(T.zx,{onClick:c,className:"!rounded-full",disabled:Object.keys(l.errors).length>0,small:!0,children:"Save"})]})]})};var L;!function(e){e[e.TechStocks=0]="TechStocks",e[e.LargeCapValueStocks=1]="LargeCapValueStocks",e[e.TotalUSStocks=2]="TotalUSStocks",e[e.Custom=3]="Custom"}(L||(L={}));const Z=[{title:"Tech stocks: (Tesla, Netflix, etc.)",data:{type:L.TechStocks,holdings:[{symbol:"TSLA",value:2e5},{symbol:"NVDA",value:2e5},{symbol:"AAPL",value:2e5},{symbol:"ETSY",value:2e5},{symbol:"SPOT",value:2e5}]}},{title:"Market: S&P 500 ETF",data:{type:L.TotalUSStocks,holdings:[{symbol:"SPY",value:1e6}]}},{title:"Value: (Walmart, Pfizer, etc.)",data:{type:L.LargeCapValueStocks,holdings:[{symbol:"MRK",value:2e5},{symbol:"WMT",value:2e5},{symbol:"PFE",value:2e5},{symbol:"PG",value:2e5},{symbol:"JNJ",value:2e5}]}}],V=()=>{const{portfolio:e,setPortfolio:t,setOpened:a}=he(),[s,o]=(0,m.useState)(e),[l,n]=(0,m.useState)(!1),[i,c]=(0,m.useState)(K(e));(0,m.useEffect)((()=>{c(K(s))}),[s]);const d=s.type===L.Custom&&s.holdings.length>0,u=(0,m.useCallback)((e=>{"string"!==typeof e&&o((t=>{const a=K(t),r=e/a;return{...t,holdings:t.holdings.map((e=>({...e,value:e.value*r,cost:e.cost?e.cost*r:void 0})))}}))}),[o]),h=(0,m.useCallback)((e=>{o((t=>({...t,holdings:e})))}),[o]),x=(0,m.useCallback)((()=>{o(Z[0].data)}),[]),f=(0,m.useCallback)((()=>{o((e=>({...e,type:L.Custom})))}),[]),g=(0,m.useCallback)((e=>{o((t=>{const a=K(t)/K(e);return{...e,holdings:e.holdings.map((e=>({...e,value:e.value*a})))}}))}),[]),v=(0,m.useCallback)((()=>{t(s),a(-1)}),[s,a,t]),y=(0,m.useCallback)((e=>{n(!1),e&&setTimeout((()=>{x()}),200)}),[x]);return(0,r.jsxs)(M,{onUpdate:v,children:[d?(0,r.jsxs)("div",{className:"relative m-8 rounded-xl bg-white p-4",children:[(0,r.jsxs)("div",{children:[s.holdings.length," stocks selected"]}),(0,r.jsx)("p",{className:"text-frecXDarkGray mb-4 mt-1 text-sm",children:(0,p.gCK)(i)}),(0,r.jsx)("ul",{children:s.holdings.map((e=>(0,r.jsxs)("li",{className:"text-frecXDarkGray text-sm",children:[(0,p.gCK)(e.value)," ",e.symbol]},e.symbol)))}),(0,r.jsxs)("div",{className:"absolute right-4 top-4 flex items-center gap-4",children:[(0,r.jsx)(X.A,{onClick:()=>n(!0),size:20,children:(0,r.jsx)(I.Z,{className:"text-frecXDarkGray h-5 w-5"})}),(0,r.jsx)(X.A,{onClick:x,size:20,children:(0,r.jsx)(G.Z,{className:"text-frecXDarkGray h-5 w-5"})})]})]}):(0,r.jsxs)("div",{className:"flex flex-col gap-3 p-8",children:[Z.map(((e,t)=>{let{title:a,data:o}=e;return(0,r.jsx)(D,{title:a,onClick:()=>g(o),active:s.type===o.type},"lad-".concat(t))})),(0,r.jsx)("div",{className:"mt-3",children:(0,r.jsx)(C.Y,{classNames:{input:"h-[46px] rounded-xl",label:"text-frecXDarkGray text-base mb-1"},label:"Amount",hideControls:!0,min:0,defaultValue:i,onChange:u,prefix:"$",thousandSeparator:","})}),(0,r.jsx)(R,{}),(0,r.jsx)(D,{title:"Edit stocks manually",onClick:f})]}),(0,r.jsx)(_,{open:l,onClose:y,onSavePortfolio:h,holdings:s.holdings})]})},U=e=>{const t=(0,p.Hwr)(K(e));if(e.type===L.Custom)return{title:"".concat(e.holdings.length," stock").concat(e.holdings.length>1?"s":""," selected"),value:t};const a=Z.find((t=>t.data.type===e.type));if(!a)throw new Error("Cannot find preset");return{...a,value:t}},K=e=>e.holdings.reduce(((e,t)=>e+t.value),0);var $=a(86651),J=a(76635),Q=a.n(J),ee=a(35637),te=a(83235);const ae=e=>{(0,m.useEffect)((()=>{const t=document.getElementById("scroll-to");if(!t||!e)return;let a=0;const r=t.scrollTop,s=t.scrollHeight-t.clientHeight-r,o=()=>{a+=1/60;const e=(l=a/.3,Math.sin(l*Math.PI/2)*s);var l;t.scrollTop=r+e,t.scrollTop<s+r&&requestAnimationFrame(o)};requestAnimationFrame(o)}),[e])};var re;!function(e){e.SNP="SPX Historical Returns",e.Custom="Custom"}(re||(re={}));const se=[{title:"30 year average rate of return",data:{type:re.SNP,timeHorizonYears:30,returnDistribution:p.gER[p.DEM.SPX_30_YEAR]}},{title:"20 year average rate of return",data:{type:re.SNP,timeHorizonYears:20,returnDistribution:p.gER[p.DEM.SPX_20_YEAR]}},{title:"15 year average rate of return",data:{type:re.SNP,timeHorizonYears:15,returnDistribution:p.gER[p.DEM.SPX_15_YEAR]}}],oe=()=>{const{rateOfReturn:e,setRateOfReturn:t,error:a,setError:s,setOpened:o}=he(),[l,n]=(0,m.useState)(e),i=l.type===re.Custom,c=he();ae(i);const d=(0,m.useCallback)((e=>{"string"!==typeof e&&(0==e&&s("Return cannot be 0"),e<-5||e>50||(s(""),n((t=>({...t,returnDistribution:[e]})))))}),[s,n]),u=(0,m.useCallback)((e=>{null!==e&&n((t=>({...t,timeHorizonYears:parseInt(e)})))}),[n]),h=ie(),x=(0,m.useCallback)((()=>{t(l),o(-1)}),[l,o,t]);var f;return(0,r.jsx)(M,{onUpdate:x,children:(0,r.jsxs)("div",{className:"flex flex-col gap-3 p-8",children:[(0,r.jsxs)("div",{className:"flex justify-items-stretch",children:[(0,r.jsxs)(ee.T,{width:168,height:100,data:h,className:"mx-4",children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"fillColor",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,r.jsx)("stop",{offset:"5%",stopColor:"#00E4BB",stopOpacity:.4}),(0,r.jsx)("stop",{offset:"95%",stopColor:"#00E4BB",stopOpacity:0})]})}),se.map(((e,t)=>(0,r.jsx)(te.u,{type:"monotone",dataKey:"values[".concat(t,"]"),stroke:"#00E4BB",opacity:l.type===e.data.type&&l.timeHorizonYears===e.data.timeHorizonYears?1:.4,strokeWidth:2,fill:l.type===e.data.type?"url(#fillColor)":"transparent"},"area-".concat(t))))]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-frecXDarkGray text-base",children:l.type===re.SNP&&(30===l.timeHorizonYears?"30 years":20===l.timeHorizonYears?"20 years":"15 years")}),(0,r.jsx)("p",{className:"text-frecXDarkGray text-xs",children:"Based on historical data, the longer the time period, the less variance you\u2019ll see in the average rate of return."})]})]}),se.map(((e,t)=>{let{title:a,data:s}=e;return(0,r.jsx)(D,{title:a,value:le(s,c.portfolioBeta),onClick:()=>n(s),active:l.type===s.type&&l.timeHorizonYears===s.timeHorizonYears},"lad-".concat(t))})),(0,r.jsx)(R,{}),(0,r.jsx)(D,{title:"Custom rate of return",onClick:()=>n({type:re.Custom,timeHorizonYears:30,returnDistribution:[10]}),active:i}),i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.Y,{className:"my-3",label:"Rate of return",classNames:{input:"h-[46px] rounded-xl",section:"pr-2",label:"text-frecXDarkGray text-base mb-1"},hideControls:!0,defaultValue:null!==(f=l.returnDistribution[0])&&void 0!==f?f:10,error:a,decimalScale:2,min:-5,max:50,onChange:d,rightSection:(0,r.jsx)("div",{children:"%"})}),(0,r.jsx)($.P,{allowDeselect:!1,label:"Time period",defaultValue:"20",classNames:{input:"h-[46px]"},className:"rounded-xl",value:l.timeHorizonYears.toString(),onChange:u,data:[{value:"30",label:"30 years"},{value:"20",label:"20 years"},{value:"15",label:"15 years"}]})]})]})})},le=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.type===re.Custom?"".concat(e.returnDistribution[0],"% (").concat(e.timeHorizonYears," yrs)"):"".concat((Math.floor((null!==(a=Q().min(e.returnDistribution))&&void 0!==a?a:0)*t*10)/10).toFixed(1),"% \u2013 ").concat((Math.ceil((null!==(r=Q().max(e.returnDistribution))&&void 0!==r?r:0)*t*10)/10).toFixed(1),"%");var a,r},ne=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e.type===re.Custom)return{title:"Custom amount",value:le(e)};const a=se.find((t=>t.data.type===e.type&&t.data.timeHorizonYears===e.timeHorizonYears));if(!a)throw new Error("Cannot find preset");return{...a,value:le(a.data,t)}},ie=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;const r=0,s=[1/1.5,1,1.8],o=[];for(let l=0;l<a;l++){const n=l/(a-1)*e*s[2]-e*s[2]/2,i=s.map((e=>ce(n,r,t*e)));o.push({x:n,values:i})}return o};function ce(e,t,a){return 1/(a*Math.sqrt(2*Math.PI))*Math.exp(-.5*((e-t)/a)**2)}const de=(0,m.createContext)({loan:P[0].data,setLoan:()=>{},portfolio:Z[1].data,setPortfolio:()=>{},rateOfReturn:se[0].data,setRateOfReturn:()=>{},interestRate:null,setInterestRate:()=>{},taxRate:30,setTaxRate:()=>{},opened:-1,setOpened:()=>{},error:"",setError:()=>{},portfolioBeta:1}),ue=e=>{let{children:t}=e;const[a,s]=(0,m.useState)(-1),[o,l]=(0,m.useState)(P[0].data),[n,i]=(0,m.useState)(Z[1].data),[c,d]=(0,m.useState)(se[0].data),[u,h]=(0,m.useState)(""),[x,f]=(0,m.useState)(null),[v,y]=(0,m.useState)(30),w=j(),k=b({startDate:new p.uE7("2015-01-01"),endDate:new p.uE7(w),holdings:n.holdings}),N=(0,m.useMemo)((()=>{const e=n.holdings.reduce(((e,t)=>{var a,r;const s=null!==(r=null===(a=(null!==k&&void 0!==k?k:[]).find((e=>e.symbol===t.symbol)))||void 0===a?void 0:a.beta)&&void 0!==r?r:1;return e.add((0,p.$um)(t.value).mul(s))}),new g.Z(0)),t=K(n);return e.div(t).toNumber()}),[k,n]);return(0,r.jsx)(de.Provider,{value:{loan:o,setLoan:l,portfolio:n,setPortfolio:i,rateOfReturn:c,setRateOfReturn:d,interestRate:x,setInterestRate:f,taxRate:v,setTaxRate:y,opened:a,setOpened:s,error:u,setError:h,portfolioBeta:N},children:t})},he=()=>(0,m.useContext)(de);var me=a(18432),xe=a(48961);const fe=e=>{let{simulationStart:t,simulationEnd:a,holdings:r,loanAmount:s,interestRate:o,sampleReturn:l,taxRate:n,loading:i}=e;const c=j(),d=(e=>{let{startDate:t,endDate:a}=e;const r=j(),s=(0,v.Bre)({variables:{input:{endDate:a,startDate:null!==t&&void 0!==t?t:new p.uE7(r),symbols:[y],interval:v.MWE.Month}},skip:!t||!a});return(0,m.useMemo)((()=>{var e,t;return s.data?{symbol:y,deltas:null===(e=s.data)||void 0===e?void 0:e.historicalDeltas[0].deltas.map((e=>({date:e.date,value:e.close.toNumber()}))),prices:null===(t=s.data)||void 0===t?void 0:t.historicalDeltas[0].prices.map((e=>({date:e.date,value:e.close.toNumber()})))}:void 0}),[s.data])})({startDate:new p.uE7("1970-01-01"),endDate:new p.uE7(c)}),u=b({startDate:new p.uE7("2015-01-01"),endDate:new p.uE7(c),holdings:r}),{borrowSimulation:h,sellSimulation:x,resample:f,symbolPriceTimeSeries:w,error:k}=(e=>{let{seedHistory:t,betas:a,holdings:r,loanAmount:s,interestRate:o,simulationStart:l,simulationEnd:n,sampleReturn:i,taxRate:c}=e;const[d,u]=(0,m.useState)({targetReturn:.1,fixedPortfolioReturn:!1,update:Date.now().valueOf()}),h=(0,m.useCallback)((()=>{const{targetReturn:e,fixedPortfolioReturn:t}=i();u({targetReturn:e.toNumber(),fixedPortfolioReturn:t,update:Date.now().valueOf()})}),[i]);return(0,m.useEffect)((()=>{h()}),[h]),(0,m.useMemo)((()=>{let e,i,u,m;if(a&&a.length&&r&&r.length&&(null===t||void 0===t?void 0:t.prices)&&(null===t||void 0===t?void 0:t.prices.length)){const h=new p.X9A,f=d?{targetReturn:d.targetReturn}:void 0,v=d.fixedPortfolioReturn?a.map((e=>({...e,beta:1}))):a;m=p.nlh.fromSeedData((0,p._Ft)(v),(0,p._Ft)(a),null===t||void 0===t?void 0:t.prices,r,l,n,f);const y={startDate:l,endDate:n,loanAmount:()=>new g.Z(0),cash:new g.Z(0),interestRate:o,sell:()=>new g.Z(0),initialHoldings:r,symbolPriceTimeSeries:m,taxRate:c},j={...y,loanAmount:s,cash:new g.Z(0)},b={...y,sell:s};try{e=h.simulate(j),i=h.simulate(b)}catch(x){u=x}}return{borrowSimulation:e,sellSimulation:i,resample:h,error:u,symbolPriceTimeSeries:m}}),[a,r,null===t||void 0===t?void 0:t.prices,h,d.targetReturn,d.update,l,n,o,c,s])})({seedHistory:d,betas:u,holdings:r,loanAmount:s,interestRate:o,simulationStart:t,simulationEnd:a,sampleReturn:l,taxRate:n}),N=(0,m.useMemo)((()=>e=>r.reduce(((t,a)=>{var r;const s=null!==(r=null===w||void 0===w?void 0:w.lookup({date:e,symbol:a.symbol}))&&void 0!==r?r:new g.Z(0);return t.add(s.times(a.quantity))}),new g.Z(0))),[r,w]),C=(0,m.useMemo)((()=>{var e;return null!==(e=null===h||void 0===h?void 0:h.map(((e,t)=>{const a=null===x||void 0===x?void 0:x[t],r=pe(e),s=pe(a),l=t>0?h[t-1].interestPaid.toNumber():0;return{date:e.date,year:e.date.getFullYear(),borrowData:e,sellData:a,rawPortfolioValue:N(e.date).toNumber(),interestRate:p.$tS.fromRate(o(e.date)),borrow:r.minus(e.loan).toNumber(),borrowPortfolio:r.toNumber(),borrowTaxUnpaid:null===e||void 0===e?void 0:e.taxUnpaid.toNumber(),borrowLoan:e.loan.toNumber(),borrowInterest:e.interestPaid.toNumber()-l,sell:s.toNumber(),sellPortfolio:s.toNumber(),sellTaxPaid:null===a||void 0===a?void 0:a.taxPaid.toNumber(),sellAmountSold:null===a||void 0===a?void 0:a.cash.toNumber(),sellLoan:null===a||void 0===a?void 0:a.loan.toNumber(),borrowMinusSell:r.minus(s).toNumber(),marginCall:e.actions.filter((e=>e.action===p.rNs.MARGIN_CALL_SELL)).length>0}})))&&void 0!==e?e:[]}),[h,N,o,x]),S=(0,m.useMemo)((()=>r?(0,p.T$q)({holdings:r}).toNumber():0),[r]);return{graphData:C,resample:f,error:i||d&&u?!i&&s(p.uE7.now(p.PqU)).gt(S)?new p.jVd:k:new p.fjW}},pe=e=>e?e.holdings.reduce(((e,t)=>e.add(t.quantity.times(t.price))),new g.Z(0)):new g.Z(0);var ge,ve,ye=a(3119),je=a(65815),be=a(75358),we=a(14888),ke=a(8081);function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ne.apply(null,arguments)}var Ce=function(e){return m.createElement("svg",Ne({width:14,height:15,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ge||(ge=m.createElement("path",{d:"M6.622 3.434a.5.5 0 01.755.002l3.007 3.48a.5.5 0 010 .654l-3.007 3.48a.5.5 0 01-.755 0L3.589 7.572a.5.5 0 010-.657l3.033-3.48z",fill:"#EBC051"})),ve||(ve=m.createElement("path",{d:"M8.512 12.03l-1.135-.98 1.135.98 3.007-3.48a2 2 0 000-2.615l-3.007-3.48a2 2 0 00-3.021-.006l-3.032 3.48a2 2 0 000 2.628l3.032 3.48a2 2 0 003.02-.007z",stroke:"#EBC051",strokeOpacity:.3,strokeWidth:3})))};const Se=e=>{let{data:t,setPinnedIndex:a,pinnedIndex:s,selectedIndex:o,setSelectedIndex:l,loading:n=!1,yAxisMax:i}=e;const c=(0,m.useRef)(t),[d,u]=(0,m.useState)(!1);(0,m.useEffect)((()=>{t&&t.length>0&&(a(t.length-1),l(t.length-1))}),[t,a,l]);const[h,x]=Ae(s,t),[f,g]=Ae(o,t);(0,m.useEffect)((()=>{u(n),n||(c.current=t)}),[t,n]);const v=(0,m.useCallback)((e=>{if(e.payload.marginCall)return(0,r.jsx)(Ce,{x:e.cx-7,y:e.cy-7},e.key)}),[]),y=(0,m.useCallback)((e=>{var t;e.isTooltipActive&&l(null!==(t=e.activeTooltipIndex)&&void 0!==t?t:o)}),[o,l]),j=(0,m.useCallback)((()=>{l(s)}),[s,l]),b=(0,m.useCallback)((e=>{(null===e||void 0===e?void 0:e.activeTooltipIndex)&&a(e.activeTooltipIndex)}),[a]),w=Math.max(null!==i&&void 0!==i?i:0,...c.current.map((e=>e.borrow)),...c.current.map((e=>e.sell)));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ye.f,{visible:d,overlayProps:{color:p.O9T.frecBeige,blur:2}}),(0,r.jsx)(je.h,{width:"100%",minHeight:300,children:(0,r.jsxs)(ee.T,{data:c.current,onMouseMove:y,onMouseLeave:j,onClick:b,children:[(0,r.jsx)(be.B,{type:"number",tickFormatter:e=>De(e),ticks:[0,w/2,w],domain:[e=>e,e=>Math.max(w,e)],axisLine:!1,tickLine:!1,orientation:"right"}),(0,r.jsx)(we.u,{cursor:!1,content:(0,r.jsx)(r.Fragment,{})}),(0,r.jsx)(ke.z,{x1:f,x2:g,opacity:o!==s?.4:0,radius:4}),(0,r.jsx)(ke.z,{x1:h,x2:x,opacity:.5,radius:4,z:10}),(0,r.jsx)(te.u,{type:"natural",dataKey:"sell",stackId:"1",name:"Sell",stroke:p.O9T.frecBlack,strokeWidth:2,strokeDasharray:"2 6",fill:"transparent",animationDuration:100,z:20}),(0,r.jsx)(te.u,{type:"monotone",dataKey:"borrowMinusSell",stackId:"1",name:"Borrow",stroke:p.O9T.frecBlack,strokeWidth:2,fill:p.O9T.frecNeon,fillOpacity:1,animationDuration:100,dot:v,z:20})]})})]})},Ae=(e,t)=>{const a=(0,m.useMemo)((()=>{const e=new Map;return t.map(((t,a)=>{let{date:r}=t;const s=r.getFullYear();var o;const l=null!==(o=e.get(s))&&void 0!==o?o:[a,a];e.set(s,[l[0],Math.max(l[1],a)])})),e}),[t]),[r,s]=(0,m.useState)(0),[o,l]=(0,m.useState)(0);return(0,m.useEffect)((()=>{if(e<0||e>=t.length)return;if(e<=r&&e>=o)return;let n=0;n=t[e].date.getFullYear();const i=a.get(n);i&&(s(i[0]),l(Math.min(i[1]+1,t.length-1)))}),[t,a,e,r,o]),[r,o]},De=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0,notation:"compact"}).format(e);var Re;!function(e){e[e.SELL=0]="SELL",e[e.BORROW=1]="BORROW"}(Re||(Re={}));const Te=e=>{let{onMarginCallClick:t}=e;var a,s;const o=he(),l=(e=>{let{rateOfReturn:t,loan:a,portfolio:r,interestRate:s,taxRate:o}=e;const{returnDistribution:l,timeHorizonYears:n}=t,{holdings:i}=r,{data:c,loading:d}=S(i),u=(0,m.useCallback)((()=>{const e=new g.Z(l[Math.floor(Math.random()*l.length)]);return{fixedPortfolioReturn:1===l.length,targetReturn:e.div(100)}}),[l]),h=(0,m.useMemo)((()=>p.uE7.now(p.PqU)),[]),x=(0,m.useMemo)((()=>h.addYears(n)),[h,n]),{interval:f,amount:y}=a,j=(0,m.useMemo)((()=>f===F.Monthly?e=>new g.Z(y*Math.floor(e.diff(h,"months"))):()=>new g.Z(y)),[f,y,h]),b=(0,m.useMemo)((()=>{if(c&&!d)return c.flatMap((e=>i.find((t=>t.symbol===e.symbol))?{...e,averageCostBasis:e.costBasis}:[]))}),[c,d,i]),{data:w,loading:k}=(0,v.Ei0)(),{data:N,loading:C}=(0,v.i8_)(),A=(0,m.useMemo)((()=>{if(null!==s)return()=>new g.Z(s/100);var e;const t=null!==(e=null===w||void 0===w?void 0:w.rates.forecasts.flatMap((e=>{let{fromDate:t,rate:a}=e;return t&&a?{date:t,value:new g.Z(a)}:[]})))&&void 0!==e?e:[];return t.sort(((e,t)=>p.uE7.compare(t.date,e.date))),e=>{const a=t.find((t=>t.date.isBefore(e)));return a?a.value:new g.Z(.02).add(null!==N&&void 0!==N?N:0)}}),[N,s,null===w||void 0===w?void 0:w.rates.forecasts]);return(0,m.useMemo)((()=>({simulationStart:h,simulationEnd:x,taxRate:new g.Z(o/100),holdings:null!==b&&void 0!==b?b:[],loanAmount:j,interestRate:A,sampleReturn:u,loading:d||k||C})),[h,x,o,b,j,A,u,d,k,C])})(o),{graphData:n,resample:i,error:c}=fe(l),d=(0,m.useMemo)((()=>{if(!n||0===n.length)return[];const e={borrow:null,sell:null,borrowMinusSell:null},t=n[0].date.getMonthNumber(),a=(12-n[n.length-1].date.getMonthNumber())%12,r=[...n];for(let o=0;o<t;o++){const t=n[0].date.add(-o,"months");r.unshift({...e,date:t,year:t.getFullYear()})}for(let o=0;o<a;o++){var s;const t=null===(s=n.at(-1))||void 0===s?void 0:s.date.add(o,"months");r.push({...e,date:t,year:t.getFullYear()})}return r}),[n]),[u,h]=(0,m.useState)(-1),[x,f]=(0,m.useState)(0),[y,j]=Ae(x,d),[b,w]=(0,m.useState)({recommendation:Re.BORROW,amountDiff:void 0});(0,m.useEffect)((()=>{if(!n||!n.length)return;const e=n[n.length-1];if(0===e.borrowPortfolio&&0===e.sellPortfolio)return;const t=e.borrow-e.sell;w({recommendation:t>=0?Re.BORROW:Re.SELL,amountDiff:Math.abs(t)})}),[n]);const k=(0,m.useMemo)((()=>{const e=o.rateOfReturn,t=e.returnDistribution.sort(((e,t)=>e-t)),a=t[Math.floor(.9*t.length)]/100,r=Math.pow(a+1,e.timeHorizonYears)*o.portfolioBeta;return(0,p.mpy)(l.holdings).mul(r).toNumber()}),[o.portfolioBeta,o.rateOfReturn,l.holdings]),N=(0,m.useMemo)((()=>c instanceof p.jVd?{title:"You wouldn\u2019t be able to borrow for this expense",message:"Try reducing the amount you need or increasing the stock portfolio value."}:c instanceof p.fjW?{title:"Error loading data",message:"Try again later."}:{title:"You don\u2019t have enough for this expense",message:"Try reducing the amount you need or increasing the stock portfolio value."}),[c]);var C,A;return(0,r.jsx)("div",{className:"relative flex grow flex-col",children:c?(0,r.jsxs)("div",{className:"text-frecXDarkGray absolute inset-0 z-20 flex flex-col items-center justify-center gap-4",children:[(0,r.jsx)("span",{className:"px-2 text-center text-2xl",children:N.title}),(0,r.jsx)("p",{className:"px-2 text-center",children:N.message})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"left-0 top-0 z-10 lg:absolute lg:px-0",children:(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsx)("span",{className:"text-xs",children:"SELL OR BORROW?"}),(0,r.jsx)(Ee,{text:b.recommendation===Re.BORROW?"Borrow":"Sell"}),(0,r.jsxs)("p",{className:"text-sm lg:max-w-xs",children:["After ",o.rateOfReturn.timeHorizonYears," years, you could have"," ",b.amountDiff?(0,r.jsxs)("strong",{className:"font-bold",children:[(0,p.Hwr)(b.amountDiff)," "]}):null,"more by"," ",b.recommendation===Re.BORROW?"borrowing from a portfolio line of credit on Frec instead of\n            selling your stocks.":"selling your stocks instead of borrowing from a portfolio line of credit on Frec."]}),(0,r.jsxs)("span",{className:"text-frecDarkGray",children:["Average rate of return:"," ",(0,p.T3f)((0,p.XlT)(null!==(C=null===(a=n[0])||void 0===a?void 0:a.rawPortfolioValue)&&void 0!==C?C:1,null!==(A=null===(s=n.at(-1))||void 0===s?void 0:s.rawPortfolioValue)&&void 0!==A?A:1,o.rateOfReturn.timeHorizonYears).getPct())]})]})}),(0,r.jsx)("div",{className:"mx-auto my-6 justify-end pr-2 lg:mx-0 lg:flex",children:(0,r.jsxs)(T.zx,{variant:"blueoutline",onClick:i,className:"flex items-center gap-2",small:!0,children:[(0,r.jsx)(me.Z,{size:16}),(0,r.jsx)("span",{children:"Regenerate"})]})}),(0,r.jsx)("div",{className:"min-h-[320px] w-full max-w-full",children:(0,r.jsx)(Se,{data:d,loading:l.loading,yAxisMax:k,setPinnedIndex:h,pinnedIndex:u,selectedIndex:x,setSelectedIndex:f})}),(0,r.jsx)(Fe,{data:d,startOfYearIndex:y,endOfYearIndex:j,onMarginCallClick:t})]})})},Me=e=>{let{year:t,grow:a=0}=e;return(0,r.jsxs)("div",{className:"border-frecLightGray flex gap-4 rounded-full border bg-white px-2 py-1 shadow",children:[(0,r.jsx)("span",{className:"text-frecDarkGray",children:t}),(0,r.jsxs)("span",{children:[a>=0?"\u2191 ":"\u2193 ",Math.abs(a).toFixed(1),"%"]})]})},Fe=e=>{let{data:t,startOfYearIndex:a,endOfYearIndex:s,onMarginCallClick:o}=e;var l,n,i,c,d,u,h,x,f,g,v,y;const j=null===(l=t[0])||void 0===l?void 0:l.year.toString(),b=null===(n=t[a])||void 0===n?void 0:n.year.toString(),w=b===j,k=(0,m.useMemo)((()=>t.slice(a,s).some((e=>e.marginCall))),[t,s,a]),N=(0,m.useMemo)((()=>{const e=t.slice(a,s).findIndex((e=>null!==e.borrow));return a+e}),[t,s,a]),C=(0,m.useMemo)((()=>{const e=t.slice(a,s).reverse().findIndex((e=>null!==e.borrow));return s-e-1}),[t,s,a]);var S,A;const D=(0,m.useMemo)((()=>{var e,a;return 100*((null!==(S=null===(e=t[C])||void 0===e?void 0:e.rawPortfolioValue)&&void 0!==S?S:0)/(null!==(A=null===(a=t[N])||void 0===a?void 0:a.rawPortfolioValue)&&void 0!==A?A:0)-1)}),[t,C,N]);var R,T;const M={sellAtStart:null!==(R=null===(i=t.find((e=>void 0!==e.sellAmountSold)))||void 0===i?void 0:i.sellAmountSold)&&void 0!==R?R:0,taxesAtStart:null!==(T=null===(c=t.find((e=>void 0!==e.sellAmountSold)))||void 0===c?void 0:c.sellTaxPaid)&&void 0!==T?T:0};var F,E,P,B;const O={loanAccrued:null!==(F=null===(d=t[C])||void 0===d?void 0:d.borrowLoan)&&void 0!==F?F:0,interest:null!==(E=null===(u=t[C])||void 0===u?void 0:u.borrowInterest)&&void 0!==E?E:0,interestRate:null!==(P=null===(h=t[C])||void 0===h?void 0:h.interestRate)&&void 0!==P?P:new p.$tS({percent:0}),taxesOwed:null!==(B=null===(x=t[C])||void 0===x?void 0:x.borrowTaxUnpaid)&&void 0!==B?B:0,marginCall:k};return(0,r.jsxs)("div",{className:"relative mt-8 flex w-full max-w-xl flex-col self-center lg:flex-row",children:[(0,r.jsx)("div",{className:"absolute left-1/2 top-0 -translate-x-1/2 -translate-y-full transform",children:(0,r.jsx)(Me,{year:b,grow:D})}),(0,r.jsxs)("ul",{className:"flex flex-1 flex-col gap-3 px-8 py-4 text-xs",children:[(0,r.jsxs)("li",{className:"flex justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("span",{className:"border-frecBlack inline-block h-0 w-4 border-t-[3px] border-dashed"}),(0,r.jsx)("span",{className:"text-sm",children:"Sell"})]}),(0,r.jsx)("b",{children:(0,p.gCK)(null===(f=t[C])||void 0===f?void 0:f.sell)})]}),(0,r.jsxs)("li",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-frecXDarkGray",children:"End of year portfolio"}),(0,r.jsx)("span",{className:"text-frecBlack",children:(0,p.gCK)((0,p.lb)(null===(g=t[C])||void 0===g?void 0:g.sellPortfolio))})]}),(0,r.jsxs)("li",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-frecXDarkGray",children:w?"Sale to cover expense":"Sale in ".concat(j)}),(0,r.jsxs)("span",{className:w?"text-frecBlack":"text-frecDarkGray",children:[" ","(",(0,p.gCK)((0,p.lb)(M.sellAtStart)),")"]})]}),(0,r.jsxs)("li",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-frecXDarkGray",children:"Interest"}),(0,r.jsxs)("span",{className:"text-frecDarkGray",children:["(",(0,p.gCK)(0),")"]})]}),(0,r.jsxs)("li",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-frecXDarkGray",children:w?"Taxes paid":"Taxes paid in ".concat(j)}),(0,r.jsxs)("span",{className:w?"text-frecBlack":"text-frecDarkGray",children:["(",(0,p.gCK)(M.taxesAtStart),")"]})]})]}),(0,r.jsx)("div",{className:"bg-frecLightGray h-full w-[1px]"}),(0,r.jsxs)("ul",{className:"flex flex-1 flex-col gap-3 px-8 py-4 text-xs",children:[(0,r.jsxs)("li",{className:"flex justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("span",{className:"border-frecBlack inline-block h-0 w-4 border-t-[3px]"}),(0,r.jsx)("span",{className:"text-sm",children:"Borrow"})]}),(0,r.jsx)("b",{children:(0,p.gCK)(null===(v=t[C])||void 0===v?void 0:v.borrow)})]}),(0,r.jsxs)("li",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-frecXDarkGray",children:"End of year portfolio"}),(0,r.jsx)("span",{className:"text-frecBlack",children:(0,p.gCK)((0,p.lb)(null===(y=t[C])||void 0===y?void 0:y.borrowPortfolio))})]}),(0,r.jsxs)("li",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-frecXDarkGray",children:"Loan "}),(0,r.jsxs)("span",{className:"text-frecXDarkGray",children:["(",(0,p.gCK)((0,p.lb)(O.loanAccrued-O.interest)),")"]})]}),(0,r.jsxs)("li",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-frecXDarkGray",children:"Interest this year"}),(0,r.jsxs)("span",{className:"text-frecXDarkGray",children:[(0,p.T3f)(O.interestRate.getPct())," (",(0,p.gCK)((0,p.lb)(O.interest)),")"]})]}),(0,r.jsxs)("li",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-frecXDarkGray",children:"Total taxes owed"}),(0,r.jsxs)("span",{className:O.taxesOwed>0?"text-frecXDarkGray":"text-frecDarkGray",children:["(",(0,p.gCK)((0,p.lb)(O.taxesOwed)),")"]})]}),O.marginCall&&(0,r.jsx)("li",{children:(0,r.jsxs)("div",{className:"flex cursor-pointer items-center rounded-full bg-[#FFF9DA] px-3 py-[6px]",onClick:o,children:[(0,r.jsx)("div",{className:"mr-2 flex h-3 w-3 origin-center rotate-45 transform items-center justify-center rounded-sm bg-[#f9e8b1]",children:(0,r.jsx)("div",{className:"bg-frecYellow h-[6px] w-[6px] rounded-[1px]"})}),(0,r.jsx)("span",{className:"text-[#544215]",children:"Margin call"}),(0,r.jsx)("div",{className:"grow"}),(0,r.jsx)(xe.Z,{size:12,className:"text-frecYellow"})]})})]})]})},Ee=e=>{let{text:t}=e;return(0,r.jsx)("div",{className:"border-frecBlack bg-frecNeon inline-flex h-12 w-32 items-center justify-center gap-2 rounded-3xl border px-6 py-2",children:(0,r.jsx)("div",{className:"text-frecBlack text-center text-[24px]",children:t})})};var Pe=a(56710);const Be=[{year:2023,rate:.056},{year:2024,rate:.046},{year:2025,rate:.039},{year:2026,rate:.031},{year:2027,rate:.026}],Oe=()=>{const{interestRate:e,setInterestRate:t,setOpened:a}=he(),{data:s}=(0,v.Ei0)(),[o,l]=(0,m.useState)(e),n=null!==o;ae(n);const i=(0,m.useMemo)((()=>{var e,t;return(null===s||void 0===s?void 0:s.rates.forecasts)?s.rates.forecasts.map(((a,r)=>{let{fromDate:s,rate:o}=a;return{year:null!==(e=null===s||void 0===s?void 0:s.getFullYear())&&void 0!==e?e:(new Date).getFullYear()+r,rate:null!==(t=null===o||void 0===o?void 0:o.toNumber())&&void 0!==t?t:Be[0].rate}})):Be}),[null===s||void 0===s?void 0:s.rates.forecasts]),c=(0,m.useMemo)((()=>{var e;return null!==(e=null===s||void 0===s?void 0:s.rates.url)&&void 0!==e?e:Pe.CH}),[null===s||void 0===s?void 0:s.rates.url]),d=(0,m.useCallback)((e=>{l(e&&"string"!==typeof e?e:0)}),[l]),u=(0,m.useCallback)((()=>{t(o),a(-1)}),[o,a,t]);return(0,r.jsx)(M,{onUpdate:u,children:(0,r.jsxs)("div",{className:"flex flex-col gap-3 p-8",children:[(0,r.jsx)(D,{title:"Frec rate",value:"Fed rate + 1%",onClick:()=>l(null),active:0===o}),(0,r.jsx)("p",{className:"text-frecXDarkGray text-sm",children:"Our interest rate will always be the Effective Federal Funds Rate (EFFR) + 1%. We use the median of the FOMC\u2019s predictions of future interest rates to project the result."}),(0,r.jsxs)("table",{className:"mx-auto mt-3 w-full max-w-[280px] table-fixed",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-frecDarkGray text-xs",children:[(0,r.jsx)("th",{className:"text-left"}),(0,r.jsx)("th",{className:"text-center",children:"Projection"}),(0,r.jsx)("th",{className:"text-right",children:"Frec rate"})]})}),(0,r.jsx)("tbody",{className:"text-frecXDarkGray divide-frecDarkGray divide-y text-sm",children:i.map(((e,t)=>{let{year:a,rate:s}=e;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"py-2 text-left",children:a}),(0,r.jsxs)("td",{className:"py-2 text-center",children:[(100*s).toFixed(2),"%"]}),(0,r.jsxs)("td",{className:"py-2 text-right",children:[(100*s+1).toFixed(2),"%"]})]},"rate-".concat(t))}))})]}),(0,r.jsx)("a",{href:c,className:"text-frecDarkGray text-center text-xs underline",children:"From the latest FOMC meeting on Jun 14, 2023"}),(0,r.jsx)(R,{}),(0,r.jsx)(D,{title:"Custom interest rate",onClick:()=>l(5),active:null!==o}),n&&(0,r.jsx)(C.Y,{className:"my-3",label:"Enter a custom interest rate",placeholder:"0",hideControls:!0,decimalScale:2,classNames:{input:"h-[46px] rounded-xl",section:"pr-2",label:"text-frecXDarkGray text-base mb-1"},defaultValue:null!==o&&void 0!==o?o:0,onChange:d,min:0,max:50,rightSection:(0,r.jsx)("div",{children:"%"})})]})})},He=e=>{let{open:t,onClose:a,setTaxRate:s,taxDetail:o,setTaxDetail:l}=e;const[n,i]=(0,m.useState)(),[c,d]=(0,m.useState)(Ie.Single),[u,h]=(0,m.useState)(),x=(0,m.useCallback)((()=>{n&&u&&(l({income:n,taxFillStatus:c,state:u}),s(30),a())}),[c,n,a,l,s,u]);return(0,m.useEffect)((()=>{o&&(i(o.income),d(o.taxFillStatus),h(o.state))}),[o]),(0,r.jsx)(z.u,{opened:t,onClose:a,size:500,title:(0,r.jsx)("span",{className:"text-2xl",children:"Select stocks"}),children:(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsx)(C.Y,{classNames:{label:"text-frecXDarkGray text-base mb-1",input:"rounded-xl"},label:"Taxable income",hideControls:!0,value:n,onChange:e=>{"string"!==typeof e&&i(e)},min:0,prefix:"$",thousandSeparator:","}),(0,r.jsx)($.P,{allowDeselect:!1,label:"Tax filling status",value:c,onChange:e=>e&&d(e),defaultValue:Ie.Single,data:[{value:Ie.Single,label:"Single"},{value:Ie.Married,label:"Married"}]}),(0,r.jsx)($.P,{allowDeselect:!1,label:"State",value:u,onChange:e=>e&&h(e),data:p.xvm.map((e=>{let{name:t,isoCode:a}=e;return{value:a,label:t}}))}),(0,r.jsx)(T.zx,{small:!0,onClick:x,className:"!rounded-full",children:"Save"})]})})};var Ie;!function(e){e.Single="single",e.Married="married"}(Ie||(Ie={}));const Ge=()=>{const{taxRate:e,setTaxRate:t,setOpened:a}=he(),[s,o]=(0,m.useState)(),[l,n]=(0,m.useState)(e),[i,c]=(0,m.useState)(!1),d=(0,m.useCallback)((e=>{n("string"!==typeof e?e:0)}),[n]),u=(0,m.useCallback)((()=>{o(void 0)}),[]),h=(0,m.useCallback)((()=>{t(l),a(-1)}),[a,l,t]);var x;return(0,r.jsxs)(M,{onUpdate:h,children:[s?(0,r.jsxs)("div",{className:"relative m-8 rounded-xl bg-white p-4",children:[(0,r.jsxs)("div",{className:"mb-3",children:["Your tax rate: ",(0,r.jsxs)("b",{children:[l,"%"]})]}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{className:"text-frecXDarkGray text-sm",children:["Annual income: ",(0,p.gCK)(null!==(x=null===s||void 0===s?void 0:s.income)&&void 0!==x?x:0)]}),(0,r.jsxs)("li",{className:"text-frecXDarkGray text-sm",children:["Tax filling status: ",null===s||void 0===s?void 0:s.taxFillStatus]}),(0,r.jsxs)("li",{className:"text-frecXDarkGray text-sm",children:["State: ",null===s||void 0===s?void 0:s.state]})]}),(0,r.jsxs)("div",{className:"absolute right-4 top-4 flex items-center gap-4",children:[(0,r.jsx)(X.A,{onClick:()=>c(!0),size:20,children:(0,r.jsx)(I.Z,{})}),(0,r.jsx)(X.A,{onClick:u,size:20,children:(0,r.jsx)(G.Z,{})})]})]}):(0,r.jsxs)("div",{className:"flex flex-col gap-3 p-8",children:[(0,r.jsx)("p",{className:"text-frecXDarkGray text-sm",children:"If you sell your stocks at a profit, you are taxed on the profits earned, otherwise known as capital gains. Your capital gains tax rate depends on various factors such as your income, state, and tax filing status."}),(0,r.jsx)(C.Y,{className:"mt-3",label:"Tax rate",placeholder:"0",classNames:{input:"h-[46px] rounded-xl",section:"pr-2",label:"text-frecXDarkGray text-base mb-1"},hideControls:!0,defaultValue:l,onChange:d,min:0,max:100,decimalScale:2,rightSection:(0,r.jsx)("div",{children:"%"})})]}),(0,r.jsx)(He,{open:i,onClose:()=>c(!1),taxDetail:s,setTaxRate:n,setTaxDetail:o})]})};var Xe,ze=a(65274),Ye=a(38421),qe=a.n(Ye),We={src:"/_next/static/media/portfolio-forecaster.2f67af13.png",height:489,width:880,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAG1BMVEX5+vr1+Pju8fH5+vr7/Pz8/f38/Pz3+/v+//+YzNlrAAAACHRSTlPg/uCqxOjoxHjVLfUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAmSURBVHicFcnBEcAwDMMwynIS7j9xr/iCzgzc8ozqsiaJS/nr9AMInAByiL6UNQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:4},_e={src:"/_next/static/media/portfolio-forecaster-resolve.cbf903dc.png",height:1044,width:1760,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAMAAABPT11nAAAAKlBMVEX6+/v8/Pz6/Pz5+vrw9/X8/f3h+PPF9enu8fH7+/va/fXn+/f////Q//V2FJPDAAAADHRSTlP7yLXYotq7ms2p2v3w0a8oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAKklEQVR4nBXIxxEAIAwEscWJdPTfLmM9RazRNilJKHEByPGe+w6zzMwqPhSUAPM7vfeKAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:5};!function(e){e.Forecast="forecast",e.Resolve="resolve"}(Xe||(Xe={}));const Le=e=>{let{opened:t,onClose:a}=e;const[s,o]=(0,m.useState)(Xe.Forecast);return(0,r.jsxs)(z.u,{opened:t,onClose:a,size:650,padding:32,title:(0,r.jsx)("span",{className:"text-frecBlack text-2xl",children:"Margin Call"}),children:[(0,r.jsxs)("div",{className:"border-frecXLightGray mb-6 rounded border px-6 py-4",children:[(0,r.jsx)("span",{className:"text-frecXDarkGray text-sm",children:"What is a margin call?"}),(0,r.jsx)("p",{className:"text-frecBlack mt-2 text-sm",children:"A margin call is when you are required to repay a portion of your loan. It occurs when your loan amount exceeds the amount you're allowed to borrow based on the value and type of stocks in your portfolio."})]}),(0,r.jsx)("p",{className:"text-frecBlack my-6",children:"On Frec, you\u2019ll know your risk of getting a margin call at all times. And if you do get one, we put you in the driver\u2019s seat to decide how you want to resolve it."}),(0,r.jsx)(ze.s,{fullWidth:!0,classNames:{label:"py-2 text-base text-frecBlack data-[active=true]:!text-white data-[active=true]:hover:text-white data-[disabled=true]:text-frecDarkGray",control:"shadow-none",indicator:"bg-frecBlack shadow-none"},onChange:e=>o(e),radius:"xl",data:[{value:Xe.Forecast,label:"Forecast margin calls"},{value:Xe.Resolve,label:"Resolve margin calls"}]}),(0,r.jsx)("div",{className:"mx-auto my-6 max-w-sm",children:s===Xe.Forecast?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(qe(),{src:We,alt:""}),(0,r.jsx)("p",{className:"text-frecXDarkGray text-center text-sm",children:"Our forecaster allows you to simulate various drops to see what your margin call risk is."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(qe(),{src:_e,alt:""}),(0,r.jsx)("p",{className:"text-frecXDarkGray text-center text-sm",children:"Our resolve margin call flow enables you to see exactly what your margin call amount is and lets you choose how to resolve it."})]})}),(0,r.jsx)("p",{className:"text-frecBlack",children:"Note: Margin calls that appear in this simulator assume that you resolve by selling stocks equally across your portfolio to meet the margin call amount and pay down your loan."})]})},Ze=()=>{const[e,t]=(0,m.useState)(!1),a=he(),{opened:s,setOpened:o,loan:l,portfolio:n,rateOfReturn:i,taxRate:c}=he(),d=(e=>{const t=e.interestRate,a=(0,m.useMemo)((()=>null!==t?t.toFixed(2)+"%":"Fed rate + 1%"),[t]);return null!==t?{title:"Custom rate",value:a}:{title:"Frec rate",value:"Fed rate + 1%"}})(a),u=(0,m.useMemo)((()=>{return[{title:(0,r.jsx)("span",{className:"text-frecXDarkGray",children:"How much do you need?"}),data:H(l)},{title:(0,r.jsx)("span",{className:"text-frecXDarkGray",children:"What does your stock portfolio look like?"}),data:U(n)},{title:(0,r.jsxs)("span",{className:"text-frecXDarkGray",children:["Average rate of return"," ",(0,r.jsx)(f.k,{iconSize:14,children:"The simulator selects a random historical period (15, 20, or 30 years) starting at or after 1960 and computes the S&P 500 index (SPX) performance during that period. Random monthly stock changes are then generated in a way that gives the same return as the SPX for the upcoming (simulated) 30-year period. Finally a portfolio-specific multiplier is applied to the SPX return to produce the final returns for the portfolio. For more details on our methodology, please refer to the FAQ below."})]}),data:ne(i,a.portfolioBeta)},{title:(0,r.jsx)("span",{className:"text-frecXDarkGray",children:"Interest rate"}),data:d},{title:(0,r.jsx)("span",{className:"text-frecXDarkGray",children:"Capital gains tax rate"}),data:(e=c,{title:"".concat(e,"%")})}];var e}),[a.portfolioBeta,d,l,n,i,c]),p=(0,m.useCallback)((()=>{switch(s){case 0:return(0,r.jsx)(B,{});case 1:return(0,r.jsx)(V,{});case 2:return(0,r.jsx)(oe,{});case 3:return(0,r.jsx)(Oe,{});case 4:return(0,r.jsx)(Ge,{});default:return null}}),[s]),g=(0,x.d)();return(0,r.jsxs)("div",{className:"my-8 flex w-full max-w-7xl flex-col gap-8 px-6 text-sm lg:flex-row lg:px-0",children:[(0,r.jsxs)("div",{className:"border-frecLightGray relative w-full divide-y divide-solid self-start overflow-hidden rounded-xl border bg-white shadow-lg lg:max-w-md",children:[u.map(((e,t)=>{let{title:a,data:s}=e;return(0,r.jsxs)("div",{className:"px-6 pb-6",children:[(0,r.jsx)("span",{className:"text-frecXDarkGray my-4 block leading-5",children:a}),(0,r.jsx)(D,{...s,onClick:()=>{o(t)}})]},"btn-".concat(t))})),s>=0&&(0,r.jsxs)("div",{className:"bg-frecXXLightGray absolute inset-0 -top-px flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between bg-white px-6 py-4 shadow",children:[u[s].title,(0,r.jsx)("button",{className:"flex h-5 w-6 items-center justify-center",onClick:()=>o(-1),children:(0,r.jsx)(h.Z,{height:16,width:16})})]}),(0,r.jsx)(p,{})]})]}),(0,r.jsx)("div",{className:"w-full shrink grow flex-col overflow-hidden lg:flex",children:(0,r.jsx)(Te,{onMarginCallClick:()=>t(!0)})}),(0,r.jsx)(Le,{opened:e,onClose:()=>t(!1)})]},g?"mobile":"desktop")},Ve=()=>(0,r.jsx)(ue,{children:(0,r.jsx)(Ze,{})}),Ue=()=>(0,r.jsxs)("section",{className:"grid grid-cols-[auto_minmax(0,_86rem)_auto] grid-rows-[auto_1px]",children:[(0,r.jsx)("div",{className:""}),(0,r.jsxs)("div",{className:"dotted-v flex flex-col items-center justify-center lg:mx-12 lg:border-x lg:p-16",children:[(0,r.jsx)(Ve,{}),(0,r.jsx)("div",{className:"max-w-3xl text-balance px-6 py-2 text-center text-[12px]","data-nosnippet":!0,children:"Results are for illustrative purposes and are not a guarantee of performance. Rates will vary over time, particularly for long-term investments. You are able to enter your own rate of return in the calculator, please note the higher the rate of return, the higher degree of risk."})]}),(0,r.jsx)("div",{className:""}),(0,r.jsx)("div",{className:"dotted-h col-span-3 border-b"})]});var Ke,$e=a(69595),Je=a(42600),Qe=a(86351);!function(e){e.HowDoesSellOrBorrowWork="how-does-sell-or-borrow-work",e.HowIsPortfolioPerformanceSimulated="how-is-portfolio-performance-simulated",e.HowDoesRegenerateWork="how-does-regenerate-work",e.WhyAreHistoricAverageRatesOfReturnStatedAsARange="why-are-historic-average-rates-of-return-stated-as-a-range",e.HowDoDifferentDurationChoicesAffectTheSimulation="how-do-different-duration-choices-affect-the-simulation",e.HowDoesTheCustomRateOfReturnWork="how-does-the-custom-rate-of-return-work",e.HowDoIInputMyOwnStocksIntoThisSimulator="how-do-i-input-my-own-stocks-into-this-simulator",e.HowAreInterestRatesCalculated="how-are-interest-rates-calculated",e.HowAreTaxesCalculated="how-are-taxes-calculated",e.WhatHappensWhenThereIsAMarginCall="what-happens-when-there-is-a-margin-call",e.HowDoIGetStartedWithFrec="how-do-i-get-started-with-frec"}(Ke||(Ke={}));const et=[{id:Ke.HowDoesSellOrBorrowWork,question:"How does Sell or Borrow work?",answer:()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:"Frec's Sell or Borrow tool enables users to explore potential investment portfolio performance under various scenarios. By inputting information such as held stocks, projected interest rates, and additional factors, the tool creates simulations of potential outcomes over preset durations of 15, 20, or 30 years."}),(0,r.jsx)("p",{children:"For each simulation, the tool generates two distinct hypothetical scenarios: one where you sell a portion of your stocks to finance a specific expense, and another where you borrow funds to cover the same expense. These scenarios are illustrated as two separate lines on a time series chart, labeled Sell and Borrow."}),(0,r.jsx)("p",{children:'The lines consist of data points representing individual months, which can be hovered over to display relevant information for that year, including portfolio value, loan balance, and other vital details. You can create a new simulation using the same inputs by clicking the "Regenerate" button.'}),(0,r.jsx)("p",{children:"Please note that this tool serves as a demonstration and should not be considered a recommendation to sell or borrow against your stocks. As the simulator relies on historical data, keep in mind that past performance does not ensure future results."})]})},{id:Ke.HowIsPortfolioPerformanceSimulated,question:"How is portfolio performance simulated?",answer:()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{children:["To simulate future portfolio values, the initial step involves determining an average portfolio ",(0,r.jsx)("i",{children:"return"}),(0,r.jsx)("sup",{children:"1"})," and a simulation duration. This can be achieved in one of two ways: by sampling from historical data or inputting custom return and duration values."]}),(0,r.jsxs)("p",{children:["When using historical data for simulating ",(0,r.jsx)("i",{children:"returns"}),", relying on the past performance of a single stock may not yield meaningful results because it is only representative of a single data point. In order to produce a more robust approximation, the simulation considers the historical performance of the broader market (i.e. the S&P 500 index). The index offers a long history and encompasses hundreds of stocks, providing a larger data set for more accurate results."]}),(0,r.jsx)("p",{children:"Based on the selected duration, each simulation starts by sampling a historical period of that length, beginning on or after 1960 (e.g. the 30-year period from January 1971 to January 2001)."}),(0,r.jsxs)("p",{children:["Next, the dividend-adjusted historical ",(0,r.jsx)("i",{children:"returns"})," of the S&P 500 index (SPX)",(0,r.jsx)("sup",{children:"2"})," for that period is calculated (12.2% in our example). Then, the final ",(0,r.jsx)("i",{children:"return"})," for the specific portfolio is determined by scaling the ",(0,r.jsx)("i",{children:"return"})," by a specific portfolio"," ",(0,r.jsx)("i",{children:"multiplier"}),", which we discuss below. Suppose a specific portfolio has a multiplier of 2.0. The ",(0,r.jsx)("i",{children:"return"}),' used for this particular simulation will then be set to 24.4% (12.2% \u2715 2.0). If the "Market: S&P 500 index ETF" portfolio preset is selected, then the multiplier will be 1.0 and the ',(0,r.jsx)("i",{children:"return"})," will be set to 12.2% (12.2% \u2715 1.0)."]}),(0,r.jsxs)("p",{children:["With a ",(0,r.jsx)("i",{children:"return"})," and ",(0,r.jsx)("i",{children:"duration"})," specified, it would be possible to plot a smooth exponential curve over a 30 year period. However, this wouldn\u2019t capture a portfolio\u2019s volatility and the potential risks associated with volatility. To simulate a more realistic outcome, the simulator relies on the standard deviation of the historical monthly changes in the SPX index",(0,r.jsx)("sup",{children:"3"}),". The standard deviation is used to fit and sample from a normal distribution for each simulated month. To ensure that these sampled monthly changes multiply up to the desired ",(0,r.jsx)("i",{children:"return"})," (24.4% in our example), a single constant is computed and added to each (leaving the standard deviation unchanged). Finally, given today\u2019s current portfolio value, these monthly changes can be applied concurrently to generate the full simulated time series for the next 30 years. Note that the simulated time series is randomly generated and does not correspond to any past sequence of monthly changes."]}),(0,r.jsxs)("p",{children:["Each time the options change or the regenerate button is clicked this whole process is repeated, starting with a newly sampled 30 year historical period, e.g. March 1974 - March 2004 having an 11.4%"," ",(0,r.jsx)("i",{children:"return"}),". As such, results may vary with each use and over time."]}),(0,r.jsxs)("p",{children:[(0,r.jsxs)("b",{className:"mb-2 block",children:["How is the portfolio ",(0,r.jsx)("i",{children:"multiplier"})," calculated?"]}),"The ",(0,r.jsx)("i",{children:"multiplier"})," used for a portfolio is the value-weighted average of each stock in the portfolio's ",(0,r.jsx)("i",{children:"beta"})," measure with respect to the SPX index. The ",(0,r.jsx)("i",{children:"beta"})," measure is a commonly used measure of a stock's volatility in relation to the broader market (i.e. the SPX index). The formula used to calculate beta is the covariance of the stock's returns with the returns of the market, divided by the variance of the market's returns."]}),(0,r.jsxs)("p",{children:["A beta of 1 indicates that the stock's price moves in line with the market, while a beta greater than 1 indicates that the stock is more volatile than the market, and a beta less than 1 indicates that the stock is less volatile than the market. To compute the ",(0,r.jsx)("i",{children:"beta"})," ","for an entire portfolio the individual stock ",(0,r.jsx)("i",{children:"betas"})," are averaged with a weighting proportional to the current market value of the stock."]}),(0,r.jsx)("hr",{}),(0,r.jsxs)("p",{className:"text-sm",children:[(0,r.jsx)("sup",{children:"1"})," ",(0,r.jsx)("i",{children:"Return"})," here and throughout this FAQ is defined as the compounded annual growth rate (CAGR) for the specified duration. It is also referred to as the average return in the tool. CAGR is the average rate at which an investment moves from one value to another over a period of time. The CAGR for a portfolio doesn't consider account additions or withdrawals, actual returns will differ from those experienced in the past.",(0,r.jsx)("br",{}),(0,r.jsx)("sup",{children:"2"})," The historical data used for the S&P 500 index is provided by Robert Shiller here: http://www.econ.yale.edu/~shiller/data.htm",(0,r.jsx)("br",{}),(0,r.jsx)("sup",{children:"3"})," Here data for the SPY ETF since 1990 is used, as the monthly data is more readily available."]})]})},{id:Ke.HowDoesRegenerateWork,question:'How does "Regenerate" work?',answer:e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:'By clicking "Regenerate", you can create a new simulation based on the same inputs, allowing you to explore a variety of potential outcomes with the given parameters. The simulation process is detailed in the \u201cHow is portfolio performance simulated?\u201d section above. Here, we provide a concise explanation of the process.'}),(0,r.jsxs)("p",{children:["If the historical ",(0,r.jsx)("i",{children:"return"})," option is selected then the first step in generating a new simulation is to sample a new historical"," ",(0,r.jsx)("i",{children:"return"})," for the given ",(0,r.jsx)("i",{children:"duration"}),", e.g. 1974-2004 having a 9.4% ",(0,r.jsx)("i",{children:"return"}),". This ",(0,r.jsx)("i",{children:"return"}),"will then be multiplied by the portfolio ",(0,r.jsx)("i",{children:"multiplier"})," to produce the final ",(0,r.jsx)("i",{children:"return"})," used in the simulation. If, instead, a custom"," ",(0,r.jsx)("i",{children:"return"})," is specified then that value will be used directly."]}),(0,r.jsxs)("p",{children:["Subsequently, the simulator samples a new set of random monthly changes in portfolio value, ensuring that these changes collectively result in the desired final ",(0,r.jsx)("i",{children:"return"})," for the simulation. After generating the portfolio values, the software iteratively calculates interest charges and processes any margin calls that may arise for each month (See"," ",(0,r.jsx)("span",{className:"text-frecXDarkGray cursor-pointer underline",onClick:()=>e(Ke.WhatHappensWhenThereIsAMarginCall),children:'"What happens when there is a margin call?"'})," ","section)."]}),(0,r.jsxs)("p",{children:["A good way to get a sense of how the process works is to choose a fixed custom ",(0,r.jsx)("i",{children:"return"}),' and click "Regenerate" a number of times to observe the range of possible future outcomes.']})]})},{id:Ke.WhyAreHistoricAverageRatesOfReturnStatedAsARange,question:"Why are historic average rates of return stated as a range?",answer:e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{children:["To simulate using the historic average rates of return, you are asked to choose between a 15, 20, or a 30 year ",(0,r.jsx)("i",{children:"duration"})," for the simulation. Each of those periods have a different range of"," ",(0,r.jsx)("i",{children:"returns"})," based on the historical dividend-adjusted returns of the S&P 500 index. The lower end of the range corresponds to the worst performing period from 1960 to 2022, and the maximum end of the range corresponds to the best performing period from 1960 to 2022 \u2013 scaled by the portfolio ",(0,r.jsx)("i",{children:"multiplier"}),". See"," ",(0,r.jsx)("span",{className:"text-frecXDarkGray cursor-pointer underline",onClick:()=>e(Ke.HowIsPortfolioPerformanceSimulated),children:'"How is portfolio performance simulated?"'})]}),(0,r.jsxs)("p",{children:['Let\'s say the default option "Market: S&P 500 index ETF" is selected, which has a portfolio ',(0,r.jsx)("i",{children:"multiplier"})," of 1.0. In this case, the 30 year period has a range of returns between 8.9% and 13.4%. Here, 8.9% corresponds to the period between August 1987 and August 2017, which is the worst-performing 30 year period to date since 1960. On the other hand, 13.4% corresponds to the period between June 1970 and June 2000, which is the best-performing 30 year period to date since 1960."]})]})},{id:Ke.HowDoDifferentDurationChoicesAffectTheSimulation,question:"How do different duration choices affect the simulation?",answer:()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:"The simulation tool allows users to select 15, 20, or 30-year durations when conducting simulations. When using the custom return setting, the duration only affects the time frame over which the return is applied, without altering the return value itself. However, when sampling returns from historical data, the chosen duration plays a more substantial role."}),(0,r.jsxs)("p",{children:["The long term historical data indicates that diversified baskets of stocks, like the S&P 500 index, tend to exhibit less variable returns over longer periods of time. This observation is widely recognized among investors and plays a key role in making borrowing decisions against stocks",(0,r.jsx)("sup",{children:"4"}),". When selecting a 15-year duration, for example, the simulation tool will randomly sample a 15-year period since 1960, such as February 1983 to February 1998, and calculate the S&P 500 index's return over that period. Due to the data's aforementioned properties, the range of potential ",(0,r.jsx)("i",{children:"returns"})," for simulated portfolio performance is much wider for shorter durations than for longer ones."]}),(0,r.jsx)("p",{children:"As a result, the simulation tool can help one understand the significance of considering longer periods when assessing investment opportunities, as this can result in more predictable and stable outcomes."}),(0,r.jsx)("hr",{}),(0,r.jsxs)("p",{className:"text-sm",children:[(0,r.jsx)("sup",{children:"4"})," ","https://www.finra.org/investors/investing/investing-basics/asset-allocation-diversification; \u201cA Random Walk Down Wall Street\u201d by Burton G. Malkiel"]})]})},{id:Ke.HowDoesTheCustomRateOfReturnWork,question:"How does the custom rate of return work?",answer:e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{children:["Selecting a custom rate of return will ensure that the generated time series will have a compounded annual growth rate (CAGR) equal to the given value. Note that throughout this doc we refer to the CAGR as simply the ",(0,r.jsx)("i",{children:"return"}),". Importantly, this does not mean that the portfolio value in each year will exhibit the same return, only that when the performance over the entire duration is considered the specified",(0,r.jsx)("i",{children:"return"})," is given."]}),(0,r.jsxs)("p",{children:["That is, the monthly changes in the portfolio value each month are randomized and reflect the expected volatility for the given portfolio. You may refer to the"," ",(0,r.jsx)("span",{className:"text-frecXDarkGray cursor-pointer underline",onClick:()=>e(Ke.HowIsPortfolioPerformanceSimulated),children:'"How is portfolio performance simulated?"'})," ","section for more details."]})]})},{id:Ke.HowDoIInputMyOwnStocksIntoThisSimulator,question:"How do I input my own stocks into this simulator?",answer:e=>(0,r.jsxs)("p",{children:['You can input your own stocks by editing the "What does your stock portfolio look like?" input and clicking on "Edit stocks manually". This will open up a window where you can add and remove stocks. To add a stock, click "Add stock" and enter the stock symbol, ',(0,r.jsx)("i",{children:"current value"}),", and ",(0,r.jsx)("i",{children:"total amount paid"}),". The"," ",(0,r.jsx)("i",{children:"current value"})," is how much your position is worth today based on current market prices, and the ",(0,r.jsx)("i",{children:"total amount paid"})," is how much you paid to purchase or receive your shares. If you don't know the exact amount paid, just enter an estimate. This input is used to calculate taxes (See"," ",(0,r.jsx)("span",{className:"text-frecXDarkGray cursor-pointer underline",onClick:()=>e(Ke.HowAreTaxesCalculated),children:'"How are taxes calculated?"'})," ","section)."]})},{id:Ke.HowAreInterestRatesCalculated,question:"How are interest rates simulated?",answer:()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:"Our interest rate is the Effective Federal Funds Rate + 1%. The FOMC (Federal Open Market Committee) releases interest rate projections periodically. We take their latest published projections, add 1%, and apply them to the simulation per year. For example, if the FOMC's latest projection for 2024 is 4%, we simulate our rate to be 5%. FOMC projections are typically limited to 4 years out (e.g. 2026+), so we take the last projection and extend it to the rest of the simulation. You can enter a custom interest rate by editing the \u201cInterest rate\u201d input, clicking \u201cCustom interest rate\u201d, and entering an amount."}),(0,r.jsxs)("p",{children:[(0,r.jsx)("b",{className:"mb-2 block",children:"How are interest rates calculated?"}),'On Frec, we automatically add interest charges to your loan. On the simulator, this is represented as "Loan" in the yearly data, which is the principal of your loan plus all of the interest accrued year to date. As a separate line item, we show the \u201cInterest this year\u201d which is the interest calculated against your loan amount using the current year\'s interest rate.']}),(0,r.jsx)("p",{children:'As an example, let\'s say FOMC interest rate projections for 2024 is 4% (Frec rate: 5%) and for 2025 is 3% (Frec rate: 4%). For a loan of $100,000, interest charges for 2024 would be $5,000 ($100,000 X .05). In 2025, your "Loan" amount would be $105,000 ($100,000 + $5,000) and the interest charges for 2025 would be $4,200 ($105,000 X .04).'})]})},{id:Ke.HowAreTaxesCalculated,question:"How are taxes calculated?",answer:()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:"When you sell stocks at a profit, you are subject to capital gains taxes on the profit for the tax year the sale was made. Capital gains taxes in this simulator are calculated using two inputs: cost basis of the stocks selected and the capital gains tax rate selected. We use each stock's cost basis, which is the amount paid to receive or purchase the stock, to determine the overall gain or loss of the portfolio. If there's an overall gain, we multiply the capital gains tax rate by the overall portfolio gain to determine the total capital gains taxes owed. In the \"Sell\" scenario, the taxes are covered by selling the necessary amount of the portfolio during the first year of the simulation to pay the specified expense as well as any owed taxes."}),(0,r.jsxs)("p",{children:[(0,r.jsx)("b",{className:"mb-2 block",children:"How is a stock's cost basis determined?"}),'For the default stock portfolios (Market, Tech stocks, Value stocks), a cost basis of 75% of the current market price is used, representing a 33% appreciation. For custom stock portfolios, the value provided in the "Total amount paid" column is used.']}),(0,r.jsxs)("p",{children:[(0,r.jsx)("b",{className:"mb-2 block",children:"How do I know what my capital gains tax rate is?"}),"Your capital gains tax rate depends on various factors such as your income, state, and tax filing status. Read more about capital gains taxes"," ",(0,r.jsx)("a",{href:"https://www.irs.gov/taxtopics/tc409",className:"underline",children:"here"}),". Disclaimer: Frec does not provide tax advice and you should always consult with a licensed tax advisor regarding your tax situation."]})]})},{id:Ke.WhatHappensWhenThereIsAMarginCall,question:"What happens when there is a margin call?",answer:()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("b",{className:"mb-2 block",children:"What are some of the risks of using a portfolio line of credit?"}),"Investments are subject to market volatility and as such the underlying stock used as collateral for your portfolio line of credit may fluctuate and result in you owing more than was initially borrowed. Additionally, the interest rate on your Frec portfolio line of credit is not fixed and fluctuates with the Effective Federal Funds Rate, which may have adverse consequences on your portfolio when the rates rise. Utilizing a portfolio line of credit to invest more may magnify potential portfolio losses."]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("b",{className:"mb-2 block",children:"What is a margin call?"}),"A margin call is when you have to pay a portion of your loan, and occurs when your loan amount exceeds the amount you're allowed to borrow. This can happen if a portfolio's value drops suddenly due to a market downturn, or if the stock you're borrowing against decreases its loan-to-value."]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("b",{className:"mb-2 block",children:"How are margin calls resolved in the simulation?"}),"Margin calls are indicated as yellow diamonds in the simulation. When a margin call occurs, it means that the loan in that year exceeded the amount the portfolio was capable of borrowing, thus requiring a payment on the loan's principal. The simulation will sell a portion of the portfolio to resolve the margin call and bring the loan amount back down to a level that the portfolio is allowed to borrow. Stocks are sold in such a way that sells the least value possible."]})]})}],tt=()=>{var e,t;const{width:a}=(0,Je.n)(),s=a>768,[o,l]=(0,m.useState)(et[0].id);(0,m.useEffect)((()=>{s&&o===et[0].id&&l(et[1].id)}),[o,s]);const[n,i]=(0,m.useState)(0),[c,d]=(0,m.useState)(28);(0,m.useEffect)((()=>{const e=o&&document.getElementById("svb-faq-q-".concat(o));var t,a;e&&(d(null!==(t=null===e||void 0===e?void 0:e.clientHeight)&&void 0!==t?t:28),i(null!==(a=null===e||void 0===e?void 0:e.offsetTop)&&void 0!==a?a:0))}),[o]);const[u,h]=(0,m.useState)(!1);(0,m.useEffect)((()=>{const e=document.querySelector("#svb-faqs-questions");if(!e)return;new IntersectionObserver((e=>{h(e[0].intersectionRatio<.5&&e[0].boundingClientRect.y<0)}),{root:null,rootMargin:"56px 0px 0px 0px",threshold:[0,.5]}).observe(e)}),[]);const x=(0,m.useCallback)((e=>{if(l(e),s)return;const t=document.querySelector("#svb-faq-a-".concat(e," > span"));if(t){var a;const e=t.getBoundingClientRect().top+(null!==(a=null===Qe.z||void 0===Qe.z?void 0:Qe.z.pageYOffset)&&void 0!==a?a:0)-72;null===Qe.z||void 0===Qe.z||Qe.z.scrollTo({behavior:"smooth",top:e})}}),[s]),f=(0,m.useCallback)((()=>{var e;null===(e=document.querySelector("#svb-faqs-questions-header"))||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[]),p=et[0].answer(x);return(0,r.jsxs)("section",{className:"grid grid-cols-[auto_minmax(0,_86rem)_auto] grid-rows-[auto_1px]",children:[(0,r.jsx)("div",{className:""}),(0,r.jsx)("div",{className:"dotted-v flex flex-col items-center justify-center lg:mx-12 lg:border-x lg:p-16",children:(0,r.jsxs)("div",{className:"mx-auto my-12 max-w-7xl px-0 md:px-12 lg:px-24 xl:px-6",id:"svb-faqs",children:[s&&(0,r.jsxs)("div",{className:"grid grid-cols-5 items-start gap-4 lg:gap-8",children:[(0,r.jsx)("h2",{className:"col-span-2 max-w-sm flex-1 text-[40px] font-normal leading-[56px]",children:"How does Sell or Borrow work?"}),(0,r.jsx)("div",{className:"text-frecXDarkGray col-span-3 flex flex-col gap-8 leading-6",children:p})]}),(0,r.jsx)("h3",{className:"my-12 ml-6 text-[32px] font-normal leading-[48px] md:ml-0",id:"svb-faqs-questions-header",children:"FAQs"}),(0,r.jsxs)("div",{className:"grid grid-cols-5 items-start gap-4 lg:gap-8",children:[(0,r.jsx)("div",{className:"top-20 col-span-full md:sticky md:col-span-2",children:(0,r.jsxs)("ul",{id:"svb-faqs-questions",className:"border-frecBlack relative flex flex-col gap-2 border-l-2 border-opacity-10",children:[et.slice(s?1:0).map((e=>{let{id:t,question:a}=e;return(0,r.jsx)("li",{id:"svb-faq-q-".concat(t),onClick:()=>x(t),className:(0,A.A)("text-frecBlack cursor-pointer px-4 py-1 text-sm leading-5",o===t?"":"opacity-50"),children:a},"svb-faq-q-".concat(t))})),(0,r.jsx)("div",{className:"bg-frecBlack absolute -left-0.5 top-0 w-0.5 rounded transition-all duration-300 ease-in-out",style:{transform:"translate(0px, ".concat(n,"px)"),height:c}})]})}),(0,r.jsxs)("div",{className:"text-frecXDarkGray col-span-3 hidden flex-col gap-8 leading-6 md:flex",children:[(0,r.jsx)("h4",{className:"text-frecBlack text-2xl font-medium",children:null===(e=et.find((e=>{let{id:t}=e;return o===t})))||void 0===e?void 0:e.question}),null===(t=et.find((e=>{let{id:t}=e;return o===t})))||void 0===t?void 0:t.answer(x)]}),(0,r.jsxs)("div",{id:"svb-faqs-mobile-answers",className:"col-span-full mx-8 md:hidden",children:[(0,r.jsx)("ul",{children:et.map((e=>{let{id:t,question:a,answer:s}=e;return(0,r.jsxs)("li",{id:"svb-faq-a-".concat(t),children:[(0,r.jsx)("span",{className:"text-frecBlack mb-4 mt-8 block cursor-pointer text-2xl font-normal",children:a}),(0,r.jsx)("div",{className:"text-frecXDarkGray flex flex-col gap-4",children:s(x)})]},"svb-faq-a-".concat(t))}))}),(0,r.jsx)("div",{className:"bg-frecBlack sticky bottom-6 ml-auto flex h-10 w-10 items-center justify-center rounded-full shadow transition delay-150 duration-500",style:{transform:"translate(0px, ".concat(u?0:100,"px)"),opacity:u?1:0},onClick:f,children:(0,r.jsx)($e.Z,{color:"white",className:"h-4 w-4"})})]})]})]})}),(0,r.jsx)("div",{className:""}),(0,r.jsx)("div",{className:"dotted-h col-span-3 border-b"})]})},at=()=>(0,r.jsxs)("section",{className:"grid grid-cols-[auto_minmax(0,_86rem)_auto] grid-rows-[auto_1px]",children:[(0,r.jsx)("div",{className:""}),(0,r.jsx)("div",{className:"dotted-v flex flex-col items-center justify-center px-6 lg:mx-12 lg:border-x lg:px-16",children:(0,r.jsxs)("div",{className:"text-frecXDarkGray bg-frecDarkBeige my-12 rounded-lg px-4 py-3 text-[14px]","data-nosnippet":!0,children:[(0,r.jsx)("b",{children:"IMPORTANT"}),": The projections or other information generated by Frec\u2019s Sell or Borrow tool regarding the likelihood of various investment outcomes are hypothetical in nature, do not reflect actual investment results and are not guarantees of future results."]})}),(0,r.jsx)("div",{className:""}),(0,r.jsx)("div",{className:"dotted-h col-span-3 border-b"})]});var rt=a(13173);const st=()=>{const e=(0,m.useRef)(null);return(0,r.jsxs)("section",{className:"grid grid-cols-[auto_minmax(0,_86rem)_auto] grid-rows-[76px_auto_1px]",children:[(0,r.jsx)("div",{className:""}),(0,r.jsx)("div",{className:"dotted-v lg:mx-12 lg:border-x"}),(0,r.jsx)("div",{className:""}),(0,r.jsx)("div",{className:""}),(0,r.jsxs)("div",{className:"dotted-v flex flex-col items-center justify-center p-6 lg:mx-12 lg:border-x lg:p-16",children:[(0,r.jsx)("h1",{className:"font-regular text-balance text-center text-[32px] lg:text-[64px]",children:"Should I sell or borrow?"}),(0,r.jsx)("p",{className:"max-w-[748px] text-balance text-center lg:text-[24px]",children:"Considering selling your stocks for a purchase? See if borrowing from your portfolio line of credit is better."}),(0,r.jsxs)("div",{className:"text-frecBlack group mt-12 flex cursor-pointer items-center justify-center gap-2",onClick:()=>{e.current&&e.current.scrollIntoView({behavior:"smooth"})},ref:e,children:[(0,r.jsx)(rt.Z,{}),"Scroll to find out"]})]}),(0,r.jsx)("div",{className:""}),(0,r.jsx)("div",{className:"dotted-h col-span-3 border-b"})]})};var ot=!0,lt=e=>{let{isKnownUser:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"Frec | Sell or Borrow"}),(0,r.jsx)("meta",{name:"description",content:"Considering selling your stocks for a purchase? See if borrowing from your portfolio line of credit is better."}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),(0,r.jsx)(i.h,{isKnownUser:t}),(0,r.jsxs)("main",{children:[(0,r.jsx)(st,{}),(0,r.jsx)(Ue,{}),(0,r.jsx)(u,{}),(0,r.jsx)(tt,{}),(0,r.jsx)(at,{})]}),(0,r.jsx)(c.Y,{}),(0,r.jsx)(n.$,{}),(0,r.jsx)(l.I,{})]})}},10797:function(e,t,a){"use strict";a.d(t,{Y:function(){return o}});var r=a(52322),s=a(3333);const o=e=>{let{className:t}=e;return(0,r.jsxs)("footer",{className:(0,s.A)("text-frecBlack bg-frecDarkBeige grid grid-cols-[auto_minmax(0,_86rem)_auto] text-center",t),children:[(0,r.jsx)("div",{className:""}),(0,r.jsx)("div",{"data-nosnippet":!0,className:"dotted-v relative flex flex-col-reverse px-6 py-8 pb-9 lg:mx-12 lg:border-x lg:px-16",children:(0,r.jsxs)("p",{className:"text-frecXDarkGray",children:["Check the background of Frec Securities LLC on"," ",(0,r.jsx)("a",{href:"https://brokercheck.finra.org/firm/summary/316641",className:"hover:text-frecBlack underline",rel:"noreferrer",target:"_blank",children:"FINRA\u2019s BrokerCheck"}),"."]})}),(0,r.jsx)("div",{className:""})]})}}},function(e){e.O(0,[267,951,549,195,561,721,312,483,522,961,774,888,179],(function(){return t=11511,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=sell-vs-borrow-41a00a75c6c906f6.js.map