"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92960],{13602:function(e,t,r){r.d(t,{A:function(){return tu},C:function(){return ev},D:function(){return ec},E:function(){return eg},I:function(){return eG},N:function(){return S},V:function(){return e0},_:function(){return es},a:function(){return eu},b:function(){return eh},c:function(){return th},d:function(){return function e(t){return function(t){if(function e(t){if(null==t||eS[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;let r=Object.keys(t);for(let n=0;n<r.length;n++){let i=null;try{i=t[r[n]]}catch(e){continue}if(!e(i))return!1}return!0}return eR.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}(t))return t;if(Array.isArray(t))return Object.freeze(t.map(t=>e(t)));if("object"==typeof t){let r={};for(let n in t){let i=t[n];void 0!==i&&Object.defineProperty(r,n,{enumerable:!0,value:e(i),writable:!1})}return r}return eR.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}(t)}},e:function(){return tv},f:function(){return eb},g:function(){return ef},h:function(){return tl},i:function(){return tg},j:function(){return F},k:function(){return tc},l:function(){return eZ},m:function(){return tN},n:function(){return eE},t:function(){return eC},v:function(){return tE}});var n,i,o,s,a,d,l,c,u,f,h,g,v,E,y,m,A,T,N,p,_,O,I,R,k,S,b,C,P,w,M,F,L,D,B,U,G,K,j,x,W,q,H,z,$,V,Y,Z,Q,X,J,ee,et,er=r(58789),en=r(9784),ei=r(22594),eo=r(38472);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function es(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}d((n=n.apply(e,t||[])).next())})}function ea(e){return this instanceof ea?(this.v=e,this):new ea(e)}function ed(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{var r;(r=i[e](t)).value instanceof ea?Promise.resolve(r.value.v).then(d,l):c(o[0][2],r)}catch(e){c(o[0][3],e)}}function d(e){a("next",e)}function l(e){a("throw",e)}function c(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function el(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}}r(59035),r(43398),(n=S||(S={})).ETH_MAINNET="eth-mainnet",n.ETH_GOERLI="eth-goerli",n.ETH_SEPOLIA="eth-sepolia",n.OPT_MAINNET="opt-mainnet",n.OPT_GOERLI="opt-goerli",n.OPT_SEPOLIA="opt-sepolia",n.ARB_MAINNET="arb-mainnet",n.ARB_GOERLI="arb-goerli",n.ARB_SEPOLIA="arb-sepolia",n.MATIC_MAINNET="polygon-mainnet",n.MATIC_MUMBAI="polygon-mumbai",n.MATIC_AMOY="polygon-amoy",n.ASTAR_MAINNET="astar-mainnet",n.POLYGONZKEVM_MAINNET="polygonzkevm-mainnet",n.POLYGONZKEVM_TESTNET="polygonzkevm-testnet",n.BASE_MAINNET="base-mainnet",n.BASE_GOERLI="base-goerli",n.BASE_SEPOLIA="base-sepolia",n.ZKSYNC_MAINNET="zksync-mainnet",n.ZKSYNC_SEPOLIA="zksync-sepolia",(i=b||(b={})).DEFAULT_TOKENS="DEFAULT_TOKENS",i.ERC20="erc20",(o=C||(C={})).EXTERNAL="external",o.INTERNAL="internal",o.ERC20="erc20",o.ERC721="erc721",o.ERC1155="erc1155",o.SPECIALNFT="specialnft",(s=P||(P={})).TO="TO",s.FROM="FROM",(a=w||(w={})).ASCENDING="asc",a.DESCENDING="desc",(d=M||(M={})).VERIFIED="verified",d.APPROVED="approved",d.REQUESTED="requested",d.NOT_REQUESTED="not_requested",(l=F||(F={})).PENDING_TRANSACTIONS="alchemy_pendingTransactions",l.MINED_TRANSACTIONS="alchemy_minedTransactions",(c=L||(L={})).NATIVE="NATIVE",c.ERC20="ERC20",c.ERC721="ERC721",c.ERC1155="ERC1155",c.SPECIAL_NFT="SPECIAL_NFT",(u=D||(D={})).APPROVE="APPROVE",u.TRANSFER="TRANSFER",(B||(B={})).ETHERSCAN="ETHERSCAN",(f=U||(U={})).CREATE="CREATE",f.CALL="CALL",f.STATICCALL="STATICCALL",f.DELEGATECALL="DELEGATECALL",(h=G||(G={})).UNSPECIFIED="TRANSACTION_JOB_STATUS_UNSPECIFIED",h.IN_PROGRESS="IN_PROGRESS",h.COMPLETE="COMPLETE",h.ABANDONED="ABANDONED",(g=K||(K={})).V1="V1",g.V2="V2",(v=j||(j={})).MINED_TRANSACTION="MINED_TRANSACTION",v.DROPPED_TRANSACTION="DROPPED_TRANSACTION",v.ADDRESS_ACTIVITY="ADDRESS_ACTIVITY",v.NFT_ACTIVITY="NFT_ACTIVITY",v.NFT_METADATA_UPDATE="NFT_METADATA_UPDATE",v.GRAPHQL="GRAPHQL",(E=x||(x={})).PENDING="pending",E.LATEST="latest",E.SAFE="safe",E.FINALIZED="finalized",E.EARLIEST="earliest",(y=W||(W={})).CALL_TRACER="callTracer",y.PRESTATE_TRACER="prestateTracer",(m=q||(q={})).ERC721="ERC721",m.ERC1155="ERC1155",m.NO_SUPPORTED_NFT_STANDARD="NO_SUPPORTED_NFT_STANDARD",m.NOT_A_CONTRACT="NOT_A_CONTRACT",m.UNKNOWN="UNKNOWN",(A=H||(H={})).Erc721TooManyOwners="Erc721TooManyOwners",A.Erc721TooManyTokens="Erc721TooManyTokens",A.Erc721DishonestTotalSupply="Erc721DishonestTotalSupply",A.MostlyHoneyPotOwners="MostlyHoneyPotOwners",A.OwnedByMostHoneyPots="OwnedByMostHoneyPots",A.LowDistinctOwnersPercent="LowDistinctOwnersPercent",A.HighHoneyPotOwnerPercent="HighHoneyPotOwnerPercent",A.HighHoneyPotPercent="HighHoneyPotPercent",A.HoneyPotsOwnMultipleTokens="HoneyPotsOwnMultipleTokens",A.NoSalesActivity="NoSalesActivity",A.HighAirdropPercent="HighAirdropPercent",A.Unknown="Unknown",(T=z||(z={})).SPAM="SPAM",T.AIRDROPS="AIRDROPS",($||($={})).TRANSFERTIME="TRANSFERTIME",(N=V||(V={})).SEAPORT="seaport",N.LOOKSRARE="looksrare",N.X2Y2="x2y2",N.WYVERN="wyvern",N.CRYPTOPUNKS="cryptopunks",N.BLUR="blur",N.UNKNOWN="unknown",(p=Y||(Y={})).BUYER="buyer",p.SELLER="seller",(_=Z||(Z={})).DOES_NOT_EXIST="does_not_exist",_.ALREADY_QUEUED="already_queued",_.IN_PROGRESS="in_progress",_.FINISHED="finished",_.QUEUED="queued",_.QUEUE_FAILED="queue_failed",(Q||(Q={})).OPENSEA="OpenSea";let ec="demo",eu=S.ETH_MAINNET;function ef(e,t){return`https://${e}.g.alchemy.com/v2/${t}`}function eh(e,t){return`wss://${e}.g.alchemy.com/v2/${t}`}(O=X||(X={}))[O.BASE=0]="BASE",O[O.NFT=1]="NFT",O[O.WEBHOOK=2]="WEBHOOK";let eg={[S.ETH_MAINNET]:"mainnet",[S.ETH_GOERLI]:"goerli",[S.ETH_SEPOLIA]:"sepolia",[S.OPT_MAINNET]:"optimism",[S.OPT_GOERLI]:"optimism-goerli",[S.OPT_SEPOLIA]:"optimism-sepolia",[S.ARB_MAINNET]:"arbitrum",[S.ARB_GOERLI]:"arbitrum-goerli",[S.ARB_SEPOLIA]:"arbitrum-sepolia",[S.MATIC_MAINNET]:"matic",[S.MATIC_MUMBAI]:"maticmum",[S.MATIC_AMOY]:"maticamoy",[S.ASTAR_MAINNET]:"astar-mainnet",[S.POLYGONZKEVM_MAINNET]:"polygonzkevm-mainnet",[S.POLYGONZKEVM_TESTNET]:"polygonzkevm-testnet",[S.BASE_MAINNET]:"base-mainnet",[S.BASE_GOERLI]:"base-goerli",[S.BASE_SEPOLIA]:"base-sepolia",[S.ZKSYNC_MAINNET]:"zksync-mainnet",[S.ZKSYNC_SEPOLIA]:"zksync-sepolia"},ev={"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},"astar-mainnet":{chainId:592,name:"astar-mainnet"},sepolia:{chainId:11155111,name:"sepolia"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},"polygonzkevm-mainnet":{chainId:1101,name:"polygonzkevm-mainnet"},"polygonzkevm-testnet":{chainId:1442,name:"polygonzkevm-testnet"},"base-mainnet":{chainId:8453,name:"base-mainnet"},"base-goerli":{chainId:84531,name:"base-goerli"},"base-sepolia":{chainId:84532,name:"base-sepolia"},maticamoy:{chainId:80002,name:"maticamoy"},"zksync-mainnet":{chainId:324,name:"zksync-mainnet"},"zksync-sepolia":{chainId:300,name:"zksync-sepolia"}};function eE(){}class ey{constructor(e){this.apiKey=(null==e?void 0:e.apiKey)||ec,this.network=(null==e?void 0:e.network)||eu,this.maxRetries=(null==e?void 0:e.maxRetries)||5,this.url=null==e?void 0:e.url,this.authToken=null==e?void 0:e.authToken,this.batchRequests=(null==e?void 0:e.batchRequests)||!1,this.requestTimeout=(null==e?void 0:e.requestTimeout)||0,this.connectionInfoOverrides=null==e?void 0:e.connectionInfoOverrides}_getRequestUrl(e){if(void 0!==this.url)return this.url;if(e===X.NFT){var t,r;return t=this.network,r=this.apiKey,`https://${t}.g.alchemy.com/nft/v3/${r}`}return e===X.WEBHOOK?"https://dashboard.alchemy.com/api":ef(this.network,this.apiKey)}getProvider(){return this._baseAlchemyProvider||(this._baseAlchemyProvider=es(this,void 0,void 0,function*(){let{AlchemyProvider:e}=yield r.e(22463).then(r.bind(r,22463));return new e(this)})),this._baseAlchemyProvider}getWebSocketProvider(){return this._baseAlchemyWssProvider||(this._baseAlchemyWssProvider=es(this,void 0,void 0,function*(){let{AlchemyWebSocketProvider:e}=yield Promise.all([r.e(22463),r.e(47642)]).then(r.bind(r,47642));return new e(this)})),this._baseAlchemyWssProvider}}let em=!1,eA=!1,eT={debug:1,default:2,info:2,warning:3,error:4,off:5},eN=eT.default,ep=null,e_=function(){try{let e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(e){return e.message}return null}();(I=J||(J={})).DEBUG="DEBUG",I.INFO="INFO",I.WARNING="WARNING",I.ERROR="ERROR",I.OFF="OFF",(R=ee||(ee={})).UNKNOWN_ERROR="UNKNOWN_ERROR",R.NOT_IMPLEMENTED="NOT_IMPLEMENTED",R.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",R.NETWORK_ERROR="NETWORK_ERROR",R.SERVER_ERROR="SERVER_ERROR",R.TIMEOUT="TIMEOUT",R.BUFFER_OVERRUN="BUFFER_OVERRUN",R.NUMERIC_FAULT="NUMERIC_FAULT",R.MISSING_NEW="MISSING_NEW",R.INVALID_ARGUMENT="INVALID_ARGUMENT",R.MISSING_ARGUMENT="MISSING_ARGUMENT",R.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",R.CALL_EXCEPTION="CALL_EXCEPTION",R.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",R.NONCE_EXPIRED="NONCE_EXPIRED",R.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",R.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",R.TRANSACTION_REPLACED="TRANSACTION_REPLACED",R.ACTION_REJECTED="ACTION_REJECTED";let eO="0123456789abcdef";class eI{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let r=e.toLowerCase();null==eT[r]&&this.throwArgumentError("invalid log level name","logLevel",e),eN>eT[r]||console.log.apply(console,t)}debug(...e){this._log(eI.levels.DEBUG,e)}info(...e){this._log(eI.levels.INFO,e)}warn(...e){this._log(eI.levels.WARNING,e)}makeError(e,t,r){if(eA)return this.makeError("censored error",t,{});t||(t=eI.errors.UNKNOWN_ERROR),r||(r={});let n=[];Object.keys(r).forEach(e=>{let t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=eO[t[e]>>4]+eO[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}}),n.push(`code=${t}`),n.push(`version=${this.version}`);let i=e,o="";switch(t){case ee.NUMERIC_FAULT:{o="NUMERIC_FAULT";let t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ee.CALL_EXCEPTION:case ee.INSUFFICIENT_FUNDS:case ee.MISSING_NEW:case ee.NONCE_EXPIRED:case ee.REPLACEMENT_UNDERPRICED:case ee.TRANSACTION_REPLACED:case ee.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");let s=Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach(function(e){s[e]=r[e]}),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,eI.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){e_&&this.throwError("platform missing String.prototype.normalize",eI.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:e_})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,eI.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,eI.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,eI.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,eI.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||null==e)&&this.throwError("missing new",eI.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",eI.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||null==e)&&this.throwError("missing new",eI.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return ep||(ep=new eI("logger/5.7.0")),ep}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",eI.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),em){if(!e)return;this.globalLogger().throwError("error censorship permanent",eI.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}eA=!!e,em=!!t}static setLogLevel(e){let t=eT[e.toLowerCase()];if(null==t){eI.globalLogger().warn("invalid log level - "+e);return}eN=t}static from(e){return new eI(e)}}eI.errors=ee,eI.levels=J;let eR=new eI("properties/5.7.0");function ek(e){var t,r,n,i;return t=this,r=void 0,n=void 0,i=function*(){let t=Object.keys(e).map(t=>Promise.resolve(e[t]).then(e=>({key:t,value:e})));return(yield Promise.all(t)).reduce((e,t)=>(e[t.key]=t.value,e),{})},new(n||(n=Promise))(function(e,o){function s(e){try{d(i.next(e))}catch(e){o(e)}}function a(e){try{d(i.throw(e))}catch(e){o(e)}}function d(t){var r;t.done?e(t.value):((r=t.value)instanceof n?r:new n(function(e){e(r)})).then(s,a)}d((i=i.apply(t,r||[])).next())})}let eS={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function eb(e){return ei.O$.from(e).toNumber()}function eC(e){return ei.O$.from(e).toHexString()}function eP(e){return"string"==typeof e?e:Number.isInteger(e)?eC(e):e.toString()}function ew(e,t){return Object.values(t).includes(e)?e:null}function eM(e){return eK(Object.assign(Object.assign({},eF(e)),{displayNft:e.displayNft,image:e.image,totalBalance:e.totalBalance,numDistinctTokensOwned:e.numDistinctTokensOwned,isSpam:e.isSpam}))}function eF(e){var t;return eK(Object.assign(Object.assign({},e),{tokenType:eU(e.tokenType),openSeaMetadata:Object.assign(Object.assign({},e.openSeaMetadata),{safelistRequestStatus:(null===(t=e.openSeaMetadata)||void 0===t?void 0:t.safelistRequestStatus)!==null?ew(e.openSeaMetadata.safelistRequestStatus,M):null})}))}function eL(e,t){return{contractAddress:t||e.contractAddress,tokenId:e.tokenId}}function eD(e){var t;return eK(Object.assign(Object.assign({},e),{contract:eK(Object.assign(Object.assign({},eF(t=e.contract)),{spamClassifications:t.spamClassifications.map(eB)})),tokenType:eU(e.tokenType),acquiredAt:e.acquiredAt,collection:e.collection,mint:e.mint}))}function eB(e){let t=ew(e,H);return null==t?H.Unknown:t}function eU(e){switch(e){case"erc721":case"ERC721":return q.ERC721;case"erc1155":case"ERC1155":return q.ERC1155;case"no_supported_nft_standard":case"NO_SUPPORTED_NFT_STANDARD":return q.NO_SUPPORTED_NFT_STANDARD;case"not_a_contract":case"NOT_A_CONTRACT":return q.NOT_A_CONTRACT;default:return q.UNKNOWN}}let eG="undefined"!=typeof window&&null!==window;function eK(e){if(null!=e){if("Object"===e.constructor.name||Array.isArray(e))for(let t in e)e[t]=eK(e[t]);return e}}function ej(e,t,r="getAssetTransfers"){return es(this,void 0,void 0,function*(){let n=yield e.getProvider();return t.fromAddress&&(t.fromAddress=yield n._getAddress(t.fromAddress)),t.toAddress&&(t.toAddress=yield n._getAddress(t.toAddress)),n._send("alchemy_getAssetTransfers",[Object.assign(Object.assign({},t),{fromBlock:null!=t.fromBlock?eP(t.fromBlock):void 0,toBlock:null!=t.toBlock?eP(t.toBlock):void 0,maxCount:null!=t.maxCount?eC(t.maxCount):void 0})],r)})}function ex(e,t,r="getTransactionReceipts"){return es(this,void 0,void 0,function*(){return(yield e.getProvider())._send("alchemy_getTransactionReceipts",[t],r)})}class eW{constructor(e){this.config=e}getBalance(e,t){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBalance(e,t)})}isContractAddress(e){return es(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return"0x"!==(yield t.getCode(e))})}getCode(e,t){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getCode(e,t)})}getStorageAt(e,t,r){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getStorageAt(e,t,r)})}getTransactionCount(e,t){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransactionCount(e,t)})}getBlock(e){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlock(e)})}getBlockWithTransactions(e){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlockWithTransactions(e)})}getNetwork(){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getNetwork()})}getBlockNumber(){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlockNumber()})}getGasPrice(){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getGasPrice()})}getFeeData(){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getFeeData()})}ready(){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).ready})}call(e,t){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).call(e,t)})}estimateGas(e){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).estimateGas(e)})}getTransaction(e){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransaction(e)})}getTransactionReceipt(e){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransactionReceipt(e)})}sendTransaction(e){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).sendTransaction(e)})}waitForTransaction(e,t,r){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).waitForTransaction(e,t,r)})}getLogs(e){return es(this,void 0,void 0,function*(){return function(e,t){return es(this,void 0,void 0,function*(){var r;let n=yield e.getProvider();yield n.getNetwork();let i=yield ek({filter:function(e,t){return es(this,void 0,void 0,function*(){let r=yield e.getProvider(),n=yield t,i={};return["blockHash","topics"].forEach(e=>{null!=n[e]&&(i[e]=n[e])}),["fromBlock","toBlock"].forEach(e=>{null!=n[e]&&(i[e]=r._getBlockTag(n[e]))}),i=r.formatter.filter((yield ek(i))),Array.isArray(n.address)?i.address=yield Promise.all(n.address.map(e=>es(this,void 0,void 0,function*(){return r._getAddress(e)}))):null!=n.address&&(i.address=yield r._getAddress(n.address)),i})}(e,t)}),o=yield n.send("eth_getLogs",[i.filter]);return o.forEach(e=>{null==e.removed&&(e.removed=!1)}),(r=n.formatter.filterLog.bind(n.formatter),function(e){if(!Array.isArray(e))throw Error("not an array");let t=[];return e.forEach(e=>{t.push(r(e))}),t})(o)})}(this.config,e)})}send(e,t){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).send(e,t)})}findContractDeployer(e){var t;return es(this,void 0,void 0,function*(){let r=yield this.config.getProvider(),n=yield r.getBlockNumber();if((yield r.getCode(e,n))==="0x")throw Error(`Contract '${e}' does not exist`);let i=yield function e(t,r,n,i){return es(this,void 0,void 0,function*(){if(t>=r)return r;let o=Math.floor((t+r)/2),s=yield i.getProvider();return(yield s.getCode(n,o))==="0x"?e(o+1,r,n,i):e(t,o,n,i)})}(0,n+1,e,this.config),o=null===(t=(yield ex(this.config,{blockNumber:eC(i)},"findContractDeployer")).receipts)||void 0===t?void 0:t.find(t=>t.contractAddress===e.toLowerCase());return{deployerAddress:null==o?void 0:o.from,blockNumber:i}})}getTokenBalances(e,t){return es(this,void 0,void 0,function*(){let r=yield this.config.getProvider(),n=yield r._getAddress(e);if(Array.isArray(t)){if(t.length>1500)throw Error("You cannot pass in more than 1500 contract addresses to getTokenBalances()");if(0===t.length)throw Error("getTokenBalances() requires at least one contractAddress when using an array");return r._send("alchemy_getTokenBalances",[n,t],"getTokenBalances")}{let e=[n,void 0===t?b.ERC20:t.type];return(null==t?void 0:t.type)===b.ERC20&&t.pageKey&&e.push({pageKey:t.pageKey}),r._send("alchemy_getTokenBalances",e,"getTokenBalances")}})}getTokensForOwner(e,t){var r;return es(this,void 0,void 0,function*(){let n=yield this.config.getProvider(),i=[(yield n._getAddress(e)),null!==(r=null==t?void 0:t.contractAddresses)&&void 0!==r?r:b.ERC20];(null==t?void 0:t.pageKey)&&i.push({pageKey:t.pageKey});let o=yield n._send("alchemy_getTokenBalances",i,"getTokensForOwner"),s=o.tokenBalances.map(e=>({contractAddress:e.contractAddress,rawBalance:ei.O$.from(e.tokenBalance).toString()})),a=(yield Promise.allSettled(o.tokenBalances.map(e=>n._send("alchemy_getTokenMetadata",[e.contractAddress],"getTokensForOwner",!0)))).map(e=>"fulfilled"===e.status?e.value:{name:null,symbol:null,decimals:null,logo:null});return{tokens:s.map((e,t)=>Object.assign(Object.assign(Object.assign({},e),a[t]),{balance:null!==a[t].decimals?(0,er.formatUnits)(e.rawBalance,a[t].decimals):void 0})).map(e=>eK(e)),pageKey:o.pageKey}})}getTokenMetadata(e){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_getTokenMetadata",[e],"getTokenMetadata")})}getAssetTransfers(e){return es(this,void 0,void 0,function*(){return ej(this.config,e)})}getTransactionReceipts(e){return es(this,void 0,void 0,function*(){return ex(this.config,e)})}resolveName(e){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).resolveName(e)})}lookupAddress(e){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).lookupAddress(e)})}}class eq{constructor(e){this.config=e}traceCall(e,t,r){return es(this,void 0,void 0,function*(){let n=yield this.config.getProvider(),i=[e,t,eH(r)];return n._send("debug_traceCall",i,"traceCall")})}traceTransaction(e,t,r){return es(this,void 0,void 0,function*(){let n=yield this.config.getProvider(),i=[e,eH(t,r)];return n._send("debug_traceTransaction",i,"traceTransaction")})}traceBlock(e,t){return es(this,void 0,void 0,function*(){let r,n;let i=yield this.config.getProvider();return(0,en.isHexString)(e,32)?(r="debug_traceBlockByHash",n=[e,eH(t)]):(r="debug_traceBlockByNumber",n=["number"==typeof e?(0,en.hexStripZeros)((0,en.hexValue)(e)):e,eH(t)]),i._send(r,n,"traceBlock")})}}function eH(e,t){return Object.assign({tracer:e.type},void 0!==e.onlyTopCall&&{tracerConfig:{onlyTopCall:e.onlyTopCall,timeout:t}})}(k=et||(et={}))[k.DEBUG=0]="DEBUG",k[k.INFO=1]="INFO",k[k.WARN=2]="WARN",k[k.ERROR=3]="ERROR",k[k.SILENT=4]="SILENT",et.DEBUG,et.INFO,et.WARN,et.ERROR,et.SILENT;let ez={[et.DEBUG]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},e$=et.INFO;function eV(e,...t){eJ.debug(e,t)}function eY(e,...t){eJ.info(e,t)}function eZ(e,...t){eJ.warn(e,t)}class eQ{constructor(){this._logLevel=e$}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}debug(...e){this._log(et.DEBUG,...e)}info(...e){this._log(et.INFO,...e)}warn(...e){this._log(et.WARN,...e)}error(...e){this._log(et.ERROR,...e)}_log(e,...t){if(e<this._logLevel)return;let r=new Date().toISOString(),n=ez[e];if(n)console[n](`[${r}] Alchemy:`,...t.map(eX));else throw Error(`Logger received an invalid logLevel (value: ${e})`)}}function eX(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}let eJ=new eQ,e0="3.3.1";class e1{constructor(e=5){this.maxAttempts=e,this.initialDelayMs=1e3,this.backoffMultiplier=1.5,this.maxDelayMs=3e4,this.numAttempts=0,this.currentDelayMs=0,this.isInBackoff=!1}backoff(){if(this.numAttempts>=this.maxAttempts)return Promise.reject(Error(`Exceeded maximum number of attempts: ${this.maxAttempts}`));if(this.isInBackoff)return Promise.reject(Error("A backoff operation is already in progress"));let e=this.withJitterMs(this.currentDelayMs);return e>0&&eV("ExponentialBackoff.backoff",`Backing off for ${e}ms`),this.currentDelayMs*=this.backoffMultiplier,this.currentDelayMs=Math.max(this.currentDelayMs,this.initialDelayMs),this.currentDelayMs=Math.min(this.currentDelayMs,this.maxDelayMs),this.numAttempts+=1,new Promise(t=>{this.isInBackoff=!0,setTimeout(()=>{this.isInBackoff=!1,t()},e)})}withJitterMs(e){return Math.min(e+(Math.random()-.5)*e,this.maxDelayMs)}}function e2(e,t,r,n,i,o){return es(this,void 0,void 0,function*(){let s;let a=new e1(e.maxRetries);for(let d=0;d<e.maxRetries+1;d++)try{void 0!==s&&eY("requestHttp",`Retrying after error: ${s.message}`);try{yield a.backoff()}catch(e){break}let d=yield function(e,t,r,n,i){var o;let s=Object.assign(Object.assign({},i),{headers:Object.assign(Object.assign(Object.assign({},null==i?void 0:i.headers),!eG&&{"Accept-Encoding":"gzip"}),{"Alchemy-Ethers-Sdk-Version":e0,"Alchemy-Ethers-Sdk-Method":r}),method:null!==(o=null==i?void 0:i.method)&&void 0!==o?o:"GET",url:e+"/"+t,params:n});return(0,eo.Z)(s)}(e._getRequestUrl(t),r,n,i,Object.assign(Object.assign({},o),{timeout:e.requestTimeout}));if(200===d.status)return eV(r,`Successful request: ${r}`),d.data;eY(r,`Request failed: ${r}, ${d.status}, ${d.data}`),s=Error(d.status+": "+d.data)}catch(e){if(!eo.Z.isAxiosError(e)||void 0===e.response)throw e;if(s=Error(e.response.status+": "+JSON.stringify(e.response.data)),!function(e,t){let r=t===X.WEBHOOK?[429,500]:[429];return void 0!==e.response&&r.includes(e.response.status)}(e,t))break}return Promise.reject(s)})}function e5(e,t,r,n,i,o,s){return ed(this,arguments,function*(){let a=!0,d=Object.assign({},s);for(;a;){let s=yield ea(e2(e,t,r,n,d));yield yield ea(s),null!==s[o]?d[i]=s[o]:a=!1}})}function e7(e,t,r,n,i="getNftMetadata"){return es(this,void 0,void 0,function*(){return eD((yield e2(e,X.NFT,"getNFTMetadata",i,{contractAddress:t,tokenId:ei.O$.from(r).toString(),tokenType:function(e){if(e===q.ERC1155||e===q.ERC721)return e}(null==n?void 0:n.tokenType),tokenUriTimeoutInMs:null==n?void 0:n.tokenUriTimeoutInMs,refreshCache:null==n?void 0:n.refreshCache})))})}function e3(e,t,r){return es(this,void 0,void 0,function*(){let n={tokens:t,tokenUriTimeoutInMs:null==r?void 0:r.tokenUriTimeoutInMs,refreshCache:null==r?void 0:r.refreshCache};return{nfts:(yield e2(e,X.NFT,"getNFTMetadataBatch","getNftMetadataBatch",{},{method:"POST",data:n})).nfts.map(e=>eD(e))}})}function e4(e,t,r,n="getNftsForOwner"){return es(this,void 0,void 0,function*(){let i=te(null==r?void 0:r.omitMetadata),o=yield e2(e,X.NFT,"getNFTsForOwner",n,{contractAddresses:null==r?void 0:r.contractAddresses,pageKey:null==r?void 0:r.pageKey,excludeFilters:null==r?void 0:r.excludeFilters,includeFilters:null==r?void 0:r.includeFilters,owner:t,pageSize:null==r?void 0:r.pageSize,withMetadata:i,tokenUriTimeoutInMs:null==r?void 0:r.tokenUriTimeoutInMs,orderBy:null==r?void 0:r.orderBy});return i?eK({ownedNfts:o.ownedNfts.map(e=>Object.assign(Object.assign({},eD(e)),{balance:e.balance})),pageKey:o.pageKey,totalCount:o.totalCount,validAt:o.validAt}):eK({ownedNfts:o.ownedNfts.map(e=>Object.assign(Object.assign({},eL(e)),{balance:e.balance})),pageKey:o.pageKey,totalCount:o.totalCount,validAt:o.validAt})})}function e9(e){switch(e){case q.ERC721:return[C.ERC721];case q.ERC1155:return[C.ERC1155];default:return[C.ERC721,C.ERC1155,C.SPECIALNFT]}}function e8(e){return void 0!==e.name}function e6(e,t){return es(this,void 0,void 0,function*(){let r=t.transfers.filter(e=>null!==e.rawContract.address).flatMap(e=>{var t,r;let n=(r=e).category!==C.ERC1155?[{contractAddress:r.rawContract.address,tokenId:r.tokenId,tokenType:r.category===C.ERC721?q.ERC721:void 0}]:r.erc1155Metadata.map(e=>({contractAddress:r.rawContract.address,tokenId:e.tokenId,tokenType:q.ERC1155})),i={from:e.from,to:null!==(t=e.to)&&void 0!==t?t:void 0,transactionHash:e.hash,blockNumber:e.blockNum};return n.map(e=>({metadata:i,token:e}))});if(0===r.length)return{nfts:[]};let n=[];for(let e=0;e<r.length;e+=100)n.push(r.slice(e,e+100));let i=(yield Promise.all(n.map(t=>e3(e,t.map(e=>e.token))))).map(e=>e.nfts).flat(),o=new Map;return i.forEach(e=>{let t=`${e.contract.address.toLowerCase()}-${ei.O$.from(e.tokenId).toString()}`;o.set(t,e)}),{nfts:r.map(e=>{let t=`${e.token.contractAddress.toLowerCase()}-${ei.O$.from(e.token.tokenId).toString()}`;return Object.assign(Object.assign({},o.get(t)),e.metadata)}),pageKey:t.pageKey}})}function te(e){return void 0===e||!e}class tt{constructor(e){this.config=e}getNftMetadata(e,t,r,n){let i;return i="object"==typeof r?{tokenType:r.tokenType,tokenUriTimeoutInMs:r.tokenUriTimeoutInMs,refreshCache:r.refreshCache}:{tokenType:r,tokenUriTimeoutInMs:n},e7(this.config,e,t,i)}getNftMetadataBatch(e,t){return e3(this.config,e,t)}getContractMetadata(e){return function(e,t,r="getContractMetadata"){return es(this,void 0,void 0,function*(){return eF((yield e2(e,X.NFT,"getContractMetadata",r,{contractAddress:t})))})}(this.config,e)}getContractMetadataBatch(e){return function(e,t){return es(this,void 0,void 0,function*(){return{contracts:(yield e2(e,X.NFT,"getContractMetadataBatch","getContractMetadataBatch",{},{method:"POST",data:{contractAddresses:t}})).contracts.map(eF)}})}(this.config,e)}getCollectionMetadata(e){return function(e,t,r="getCollectionMetadata"){return es(this,void 0,void 0,function*(){var n;return eK(Object.assign(Object.assign({},n=yield e2(e,X.NFT,"getCollectionMetadata",r,{collectionSlug:t})),{floorPrice:Object.assign(Object.assign({},n.floorPrice),{marketplace:function(e){if("OpenSea"===e)return Q.OPENSEA}(n.floorPrice.marketplace)})}))})}(this.config,e)}getNftsForOwnerIterator(e,t){return function(e,t,r,n="getNftsForOwnerIterator"){return ed(this,arguments,function*(){var i,o;let s=te(null==r?void 0:r.omitMetadata);try{for(var a,d=el(e5(e,X.NFT,"getNFTsForOwner",n,"pageKey","pageKey",{contractAddresses:null==r?void 0:r.contractAddresses,pageKey:null==r?void 0:r.pageKey,excludeFilters:null==r?void 0:r.excludeFilters,includeFilters:null==r?void 0:r.includeFilters,owner:t,withMetadata:s,tokenUriTimeoutInMs:null==r?void 0:r.tokenUriTimeoutInMs,orderBy:null==r?void 0:r.orderBy}));!(a=yield ea(d.next())).done;)for(let e of a.value.ownedNfts)yield yield ea(Object.assign(Object.assign({},e8(e)?eD(e):eL(e)),{balance:e.balance}))}catch(e){i={error:e}}finally{try{a&&!a.done&&(o=d.return)&&(yield ea(o.call(d)))}finally{if(i)throw i.error}}})}(this.config,e,t)}getNftsForOwner(e,t){return e4(this.config,e,t)}getNftsForContract(e,t){return function(e,t,r,n="getNftsForContract"){var i;return es(this,void 0,void 0,function*(){let o=te(null==r?void 0:r.omitMetadata),s=yield e2(e,X.NFT,"getNFTsForContract",n,{contractAddress:t,pageKey:null==r?void 0:r.pageKey,withMetadata:o,limit:null!==(i=null==r?void 0:r.pageSize)&&void 0!==i?i:void 0,tokenUriTimeoutInMs:null==r?void 0:r.tokenUriTimeoutInMs});return o?eK({nfts:s.nfts.map(e=>eD(e)),pageKey:s.pageKey}):eK({nfts:s.nfts.map(e=>eL(e,t)),pageKey:s.pageKey})})}(this.config,e,t)}getNftsForContractIterator(e,t){return function(e,t,r,n="getNftsForContractIterator"){return ed(this,arguments,function*(){var i,o;let s=te(null==r?void 0:r.omitMetadata);try{for(var a,d=el(e5(e,X.NFT,"getNFTsForContract",n,"pageKey","pageKey",{contractAddress:t,pageKey:null==r?void 0:r.pageKey,withMetadata:s}));!(a=yield ea(d.next())).done;)for(let e of a.value.nfts)yield yield ea(e8(e)?eD(e):eL(e,t))}catch(e){i={error:e}}finally{try{a&&!a.done&&(o=d.return)&&(yield ea(o.call(d)))}finally{if(i)throw i.error}}})}(this.config,e,t)}getOwnersForContract(e,t){return function(e,t,r,n="getOwnersForContract"){return es(this,void 0,void 0,function*(){let i=yield e2(e,X.NFT,"getOwnersForContract",n,Object.assign(Object.assign({},r),{contractAddress:t}));return null==r||r.withTokenBalances,eK({owners:i.owners,pageKey:i.pageKey})})}(this.config,e,t)}getOwnersForNft(e,t,r){return function(e,t,r,n,i="getOwnersForNft"){return es(this,void 0,void 0,function*(){return e2(e,X.NFT,"getOwnersForNFT",i,Object.assign({contractAddress:t,tokenId:ei.O$.from(r).toString()},n))})}(this.config,e,t,r)}getContractsForOwner(e,t){return function(e,t,r,n="getContractsForOwner"){return es(this,void 0,void 0,function*(){let i=yield e2(e,X.NFT,"getContractsForOwner",n,{owner:t,excludeFilters:null==r?void 0:r.excludeFilters,includeFilters:null==r?void 0:r.includeFilters,pageKey:null==r?void 0:r.pageKey,pageSize:null==r?void 0:r.pageSize,orderBy:null==r?void 0:r.orderBy});return eK({contracts:i.contracts.map(eM),pageKey:i.pageKey,totalCount:i.totalCount})})}(this.config,e,t)}getTransfersForOwner(e,t,r){return function(e,t,r,n){return es(this,void 0,void 0,function*(){let i=yield e.getProvider(),o=yield i._getAddress(t),s=e9(null==n?void 0:n.tokenType),a={fromBlock:"0x0",excludeZeroValue:!0,contractAddresses:null==n?void 0:n.contractAddresses,category:s,maxCount:100,pageKey:null==n?void 0:n.pageKey};r===P.TO?a.toAddress=o:a.fromAddress=o;let d=yield ej(e,a,"getTransfersForOwner");return e6(e,d)})}(this.config,e,t,r)}getTransfersForContract(e,t){return function(e,t,r){return es(this,void 0,void 0,function*(){let n=[C.ERC721,C.ERC1155,C.SPECIALNFT],i=yield e.getProvider(),o={fromBlock:(null==r?void 0:r.fromBlock)?i.formatter.blockTag((yield i._getBlockTag(r.fromBlock))):"0x0",toBlock:(null==r?void 0:r.toBlock)?i.formatter.blockTag((yield i._getBlockTag(r.toBlock))):void 0,excludeZeroValue:!0,contractAddresses:[t],order:null==r?void 0:r.order,category:n,maxCount:100,pageKey:null==r?void 0:r.pageKey},s=yield ej(e,o,"getTransfersForContract");return e6(e,s)})}(this.config,e,t)}getMintedNfts(e,t){return es(this,void 0,void 0,function*(){return function(e,t,r){return es(this,void 0,void 0,function*(){let n=yield e.getProvider(),i=yield n._getAddress(t),o=e9(null==r?void 0:r.tokenType),s={fromBlock:"0x0",fromAddress:"0x0000000000000000000000000000000000000000",toAddress:i,excludeZeroValue:!0,contractAddresses:null==r?void 0:r.contractAddresses,category:o,maxCount:100,pageKey:null==r?void 0:r.pageKey},a=yield ej(e,s,"getMintedNfts");return e6(e,a)})}(this.config,e,t)})}verifyNftOwnership(e,t){return function(e,t,r,n="verifyNftOwnership"){return es(this,void 0,void 0,function*(){if("string"==typeof r)return(yield e4(e,t,{contractAddresses:[r],omitMetadata:!0},n)).ownedNfts.length>0;{if(0===r.length)throw Error("Must provide at least one contract address");let i=yield e4(e,t,{contractAddresses:r,omitMetadata:!0},n),o=r.reduce((e,t)=>(e[t]=!1,e),{});for(let e of i.ownedNfts)o[e.contractAddress]=!0;return o}})}(this.config,e,t)}isSpamContract(e){return function(e,t,r="isSpamContract"){return es(this,void 0,void 0,function*(){return e2(e,X.NFT,"isSpamContract",r,{contractAddress:t})})}(this.config,e)}getSpamContracts(){return function(e,t="getSpamContracts"){return es(this,void 0,void 0,function*(){return e2(e,X.NFT,"getSpamContracts",t,void 0)})}(this.config)}reportSpam(e){return function(e,t,r="reportSpam"){return es(this,void 0,void 0,function*(){e2(e,X.NFT,"reportSpam",r,{contractAddress:t})})}(this.config,e)}isAirdropNft(e,t){return function(e,t,r,n="isAirdropNft"){return es(this,void 0,void 0,function*(){return e2(e,X.NFT,"isAirdropNFT",n,{contractAddress:t,tokenId:r})})}(this.config,e,t)}getFloorPrice(e){return function(e,t,r="getFloorPrice"){return es(this,void 0,void 0,function*(){return eK((yield e2(e,X.NFT,"getFloorPrice",r,{contractAddress:t})))})}(this.config,e)}getNftSales(e){return function(e,t={},r="getNftSales"){return es(this,void 0,void 0,function*(){var n;let i=Object.assign({},t);return eK({nftSales:(n=yield e2(e,X.NFT,"getNFTSales",r,{fromBlock:null==i?void 0:i.fromBlock,toBlock:null==i?void 0:i.toBlock,order:null==i?void 0:i.order,marketplace:null==i?void 0:i.marketplace,contractAddress:null==i?void 0:i.contractAddress,tokenId:(null==i?void 0:i.tokenId)?ei.O$.from(null==i?void 0:i.tokenId).toString():void 0,sellerAddress:null==i?void 0:i.sellerAddress,buyerAddress:null==i?void 0:i.buyerAddress,taker:null==i?void 0:i.taker,limit:null==i?void 0:i.limit,pageKey:null==i?void 0:i.pageKey})).nftSales.map(e=>Object.assign(Object.assign({},e),{marketplace:function(e){switch(e){case"looksrare":return V.LOOKSRARE;case"seaport":return V.SEAPORT;case"x2y2":return V.X2Y2;case"wyvern":return V.WYVERN;case"cryptopunks":return V.CRYPTOPUNKS;case"blur":return V.BLUR;default:return V.UNKNOWN}}(e.marketplace),taker:function(e){switch(e.toLowerCase()){case"buyer":return Y.BUYER;case"seller":return Y.SELLER;default:throw Error(`Unsupported NftSaleTakerType ${e}`)}}(e.taker)})),validAt:n.validAt,pageKey:n.pageKey})})}(this.config,e)}computeRarity(e,t){return function(e,t,r,n="computeRarity"){return es(this,void 0,void 0,function*(){return eK((yield e2(e,X.NFT,"computeRarity",n,{contractAddress:t,tokenId:ei.O$.from(r).toString()})))})}(this.config,e,t)}searchContractMetadata(e){return function(e,t,r="searchContractMetadata"){return es(this,void 0,void 0,function*(){return{contracts:(yield e2(e,X.NFT,"searchContractMetadata",r,{query:t})).contracts.map(eF)}})}(this.config,e)}summarizeNftAttributes(e){return function(e,t,r="summarizeNftAttributes"){return es(this,void 0,void 0,function*(){return e2(e,X.NFT,"summarizeNFTAttributes",r,{contractAddress:t})})}(this.config,e)}refreshNftMetadata(e,t){return function(e,t,r,n="refreshNftMetadata"){return es(this,void 0,void 0,function*(){let i=ei.O$.from(r).toString(),o=yield e7(e,t,i,void 0,n),s=yield function(e,t,r,n){return es(this,void 0,void 0,function*(){return eD((yield e2(e,X.NFT,"getNFTMetadata",n,{contractAddress:t,tokenId:ei.O$.from(r).toString(),refreshCache:!0})))})}(e,t,i,n);return o.timeLastUpdated!==s.timeLastUpdated})}(this.config,e,t)}refreshContract(e){return function(e,t,r="refreshContract"){return es(this,void 0,void 0,function*(){let n=yield e2(e,X.NFT,"reingestContract",r,{contractAddress:t});return{contractAddress:n.contractAddress,refreshState:function(e){switch(e){case"does_not_exist":return Z.DOES_NOT_EXIST;case"already_queued":return Z.ALREADY_QUEUED;case"in_progress":return Z.IN_PROGRESS;case"finished":return Z.FINISHED;case"queued":return Z.QUEUED;case"queue_failed":return Z.QUEUE_FAILED;default:throw Error("Unknown reingestion state: "+e)}}(n.reingestionState),progress:n.progress}})}(this.config,e)}}class tr{constructor(e){this.config=e}getAllWebhooks(){return es(this,void 0,void 0,function*(){this.verifyConfig();let e=yield this.sendWebhookRequest("team-webhooks","getAllWebhooks",{});return{webhooks:e.data.map(to),totalCount:e.data.length}})}getAddresses(e,t){return es(this,void 0,void 0,function*(){var r;this.verifyConfig();let n="string"==typeof e?e:e.id;return{addresses:(r=yield this.sendWebhookRequest("webhook-addresses","getAddresses",{webhook_id:n,limit:null==t?void 0:t.limit,after:null==t?void 0:t.pageKey})).data,totalCount:r.pagination.total_count,pageKey:r.pagination.cursors.after}})}getGraphqlQuery(e){return es(this,void 0,void 0,function*(){this.verifyConfig();let t="string"==typeof e?e:e.id;return{graphqlQuery:(yield this.sendWebhookRequest("dashboard-webhook-graphql-query","getGraphqlQuery",{webhook_id:t})).data.graphql_query}})}getNftFilters(e,t){return es(this,void 0,void 0,function*(){var r;this.verifyConfig();let n="string"==typeof e?e:e.id;return{filters:(r=yield this.sendWebhookRequest("webhook-nft-filters","getNftFilters",{webhook_id:n,limit:null==t?void 0:t.limit,after:null==t?void 0:t.pageKey})).data.map(e=>e.token_id?{contractAddress:e.contract_address,tokenId:ei.O$.from(e.token_id).toString()}:{contractAddress:e.contract_address}),totalCount:r.pagination.total_count,pageKey:r.pagination.cursors.after}})}updateWebhook(e,t){return es(this,void 0,void 0,function*(){let r,n,i,o;let s="string"==typeof e?e:e.id;if("isActive"in t)r="update-webhook",n="updateWebhook",i="PUT",o={webhook_id:s,is_active:t.isActive};else if("addFilters"in t||"removeFilters"in t)r="update-webhook-nft-filters",n="updateWebhookNftFilters",i="PATCH",o={webhook_id:s,nft_filters_to_add:t.addFilters?t.addFilters.map(ts):[],nft_filters_to_remove:t.removeFilters?t.removeFilters.map(ts):[]};else if("addMetadataFilters"in t||"removeMetadataFilters"in t)r="update-webhook-nft-metadata-filters",n="updateWebhookNftMetadataFilters",i="PATCH",o={webhook_id:s,nft_metadata_filters_to_add:t.addMetadataFilters?t.addMetadataFilters.map(ts):[],nft_metadata_filters_to_remove:t.removeMetadataFilters?t.removeMetadataFilters.map(ts):[]};else if("addAddresses"in t||"removeAddresses"in t)r="update-webhook-addresses",n="webhook:updateWebhookAddresses",i="PATCH",o={webhook_id:s,addresses_to_add:yield this.resolveAddresses(t.addAddresses),addresses_to_remove:yield this.resolveAddresses(t.removeAddresses)};else if("newAddresses"in t)r="update-webhook-addresses",n="webhook:updateWebhookAddress",i="PUT",o={webhook_id:s,addresses:yield this.resolveAddresses(t.newAddresses)};else throw Error("Invalid `update` param passed into `updateWebhook`");yield this.sendWebhookRequest(r,n,{},{method:i,data:o})})}createWebhook(e,t,r){return es(this,void 0,void 0,function*(){let n,i,o,s;if(t===j.MINED_TRANSACTION||t===j.DROPPED_TRANSACTION){if(!("appId"in r))throw Error("Transaction Webhooks require an app id.");n=r.appId}let a=ti.get(this.config.network);if(t===j.NFT_ACTIVITY||t===j.NFT_METADATA_UPDATE){if(!("filters"in r)||0===r.filters.length)throw Error("Nft Activity Webhooks require a non-empty array input.");a=r.network?ti.get(r.network):a;let e=r.filters.map(e=>e.tokenId?{contract_address:e.contractAddress,token_id:ei.O$.from(e.tokenId).toString()}:{contract_address:e.contractAddress});i=t===j.NFT_ACTIVITY?{nft_filters:e}:{nft_metadata_filters:e}}else if(t===j.ADDRESS_ACTIVITY){if(void 0===r||!("addresses"in r)||0===r.addresses.length)throw Error("Address Activity Webhooks require a non-empty array input.");a=r.network?ti.get(r.network):a,o=yield this.resolveAddresses(r.addresses)}else if(t==j.GRAPHQL){if(void 0===r||!("graphqlQuery"in r)||0===r.graphqlQuery.length)throw Error("Custom Webhooks require a non-empty graphql query.");a=r.network?ti.get(r.network):a,s=r.graphqlQuery}let d=Object.assign(Object.assign(Object.assign(Object.assign({network:a,webhook_type:t,webhook_url:e},n&&{app_id:n}),i),o&&{addresses:o}),s&&{graphql_query:s});return to((yield this.sendWebhookRequest("create-webhook","createWebhook",{},{method:"POST",data:d})).data)})}deleteWebhook(e){return es(this,void 0,void 0,function*(){this.verifyConfig();let t="string"==typeof e?e:e.id;if("message"in(yield this.sendWebhookRequest("delete-webhook","deleteWebhook",{webhook_id:t},{method:"DELETE"})))throw Error(`Webhook not found. Failed to delete webhook: ${t}`)})}verifyConfig(){if(void 0===this.config.authToken)throw Error("Using the Notify API requires setting the Alchemy Auth Token in the settings object when initializing Alchemy.")}sendWebhookRequest(e,t,r,n){return e2(this.config,X.WEBHOOK,e,t,r,Object.assign(Object.assign({},n),{headers:Object.assign({"X-Alchemy-Token":this.config.authToken},null==n?void 0:n.headers)}))}resolveAddresses(e){return es(this,void 0,void 0,function*(){if(void 0===e)return[];let t=[],r=yield this.config.getProvider();for(let n of e){let e=yield r.resolveName(n);if(null===e)throw Error(`Unable to resolve the ENS address: ${n}`);t.push(e)}return t})}}let tn={ETH_MAINNET:S.ETH_MAINNET,ETH_GOERLI:S.ETH_GOERLI,ETH_SEPOLIA:S.ETH_SEPOLIA,MATIC_MAINNET:S.MATIC_MAINNET,MATIC_MUMBAI:S.MATIC_MUMBAI,MATIC_AMOY:S.MATIC_AMOY,ARB_MAINNET:S.ARB_MAINNET,ARB_GOERLI:S.ARB_GOERLI,ARB_SEPOLIA:S.ARB_SEPOLIA,OPT_MAINNET:S.OPT_MAINNET,OPT_GOERLI:S.OPT_GOERLI,OPT_SEPOLIA:S.OPT_SEPOLIA,BASE_MAINNET:S.BASE_MAINNET,BASE_GOERLI:S.BASE_GOERLI,BASE_SEPOLIA:S.BASE_SEPOLIA,ZKSYNC_MAINNET:S.ZKSYNC_MAINNET,ZKSYNC_SEPOLIA:S.ZKSYNC_SEPOLIA},ti=Object.keys(S).reduce((e,t)=>(t in tn&&e.set(tn[t],t),e),new Map);function to(e){return Object.assign({id:e.id,network:tn[e.network],type:e.webhook_type,url:e.webhook_url,isActive:e.is_active,timeCreated:new Date(e.time_created).toISOString(),signingKey:e.signing_key,version:e.version},void 0!==e.app_id&&{appId:e.app_id})}function ts(e){return e.tokenId?{contract_address:e.contractAddress,token_id:ei.O$.from(e.tokenId).toString()}:{contract_address:e.contractAddress}}let ta=[.9,1,1.1,1.2,1.3];class td{constructor(e){this.config=e}sendPrivateTransaction(e,t,r){return es(this,void 0,void 0,function*(){let n=yield this.config.getProvider(),i=t?eC(t):void 0;return n._send("eth_sendPrivateTransaction",[{tx:e,maxBlockNumber:i,preferences:r}],"sendPrivateTransaction")})}cancelPrivateTransaction(e){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("eth_cancelPrivateTransaction",[{txHash:e}],"cancelPrivateTransaction")})}simulateAssetChangesBundle(e,t){return es(this,void 0,void 0,function*(){let r=yield this.config.getProvider();return eK((yield r._send("alchemy_simulateAssetChangesBundle",void 0!==t?[e,t]:[e],"simulateAssetChangesBundle")))})}simulateAssetChanges(e,t){return es(this,void 0,void 0,function*(){let r=yield this.config.getProvider();return eK((yield r._send("alchemy_simulateAssetChanges",void 0!==t?[e,t]:[e],"simulateAssetChanges")))})}simulateExecutionBundle(e,t){return es(this,void 0,void 0,function*(){return eK((yield this.config.getProvider())._send("alchemy_simulateExecutionBundle",void 0!==t?[e,t]:[e],"simulateExecutionBundle"))})}simulateExecution(e,t){return es(this,void 0,void 0,function*(){return eK((yield this.config.getProvider())._send("alchemy_simulateExecution",void 0!==t?[e,t]:[e],"simulateExecution"))})}getTransaction(e){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransaction(e)})}sendTransaction(e){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).sendTransaction(e)})}estimateGas(e){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).estimateGas(e)})}getMaxPriorityFeePerGas(){return es(this,void 0,void 0,function*(){let e=yield this.config.getProvider();return eb((yield e._send("eth_maxPriorityFeePerGas",[],"getMaxPriorityFeePerGas")))})}waitForTransaction(e,t,r){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider()).waitForTransaction(e,t,r)})}sendGasOptimizedTransaction(e,t){return es(this,void 0,void 0,function*(){var r,n,i;let o,s,a;if(Array.isArray(e))return this._sendGasOptimizedTransaction(e,"sendGasOptimizedTransactionPreSigned");let d=yield this.config.getProvider();try{o=yield this.estimateGas(e),s=yield this.getMaxPriorityFeePerGas(),a=(yield d.getBlock("latest")).baseFeePerGas.toNumber()}catch(e){throw Error(`Failed to estimate gas for transaction: ${e}`)}let l=(r=o.toNumber(),n=a,i=s,ta.map(t=>Object.assign(Object.assign({},e),{gasLimit:r,maxFeePerGas:Math.round(n*t+i*t),maxPriorityFeePerGas:Math.round(t*i)}))),c=yield Promise.all(l.map(e=>t.signTransaction(e)));return this._sendGasOptimizedTransaction(c,"sendGasOptimizedTransactionGenerated")})}getGasOptimizedTransactionStatus(e){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_getGasOptimizedTransactionStatus",[e],"getGasOptimizedTransactionStatus")})}_sendGasOptimizedTransaction(e,t){return es(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_sendGasOptimizedTransaction",[{rawTransactions:e}],t)})}}let tl="alchemy-pending-transactions",tc="alchemy-mined-transactions",tu=[tl,tc];class tf{constructor(e,t,r){this.listener=t,this.tag=e,this.once=r,this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter;default:return this.tag}}get type(){return this.tag.split(":")[0]}get hash(){let e=this.tag.split(":");if("tx"!==e[0])throw Error("Not a transaction event");return e[1]}get filter(){var e;let t=this.tag.split(":");if("filter"!==t[0])throw Error("Not a transaction event");let r=t[1],n=""===(e=t[2])?[]:e.split(/&/g).map(e=>{if(""===e)return[];let t=e.split("|").map(e=>"null"===e?null:e);return 1===t.length?t[0]:t}),i={};return n.length>0&&(i.topics=n),r&&"*"!==r&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||["block","network","pending","poll"].indexOf(this.tag)>=0}}class th extends tf{get fromAddress(){let e=this.tag.split(":");return e[0]!==tl?void 0:e[1]&&"*"!==e[1]?tA(e[1]):void 0}get toAddress(){let e=this.tag.split(":");return e[0]!==tl?void 0:e[2]&&"*"!==e[2]?tA(e[2]):void 0}get hashesOnly(){let e=this.tag.split(":");return tu.includes(e[0])&&e[3]&&"*"!==e[3]?"true"===e[3]:void 0}get includeRemoved(){let e=this.tag.split(":");return e[0]!==tc?void 0:e[2]&&"*"!==e[2]?"true"===e[2]:void 0}get addresses(){let e=this.tag.split(":");return e[0]!==tc?void 0:e[1]&&"*"!==e[1]?function(e){if(""!==e)return e.split("|").map(e=>e.split(",")).map(e=>Object.assign(Object.assign({},"*"!==e[0]&&{to:e[0]}),"*"!==e[1]&&{from:e[1]}))}(e[1]):void 0}}function tg(e){return"object"==typeof e&&"method"in e}function tv(e){var t,r,n;if(!tg(e))throw Error("Event tag requires AlchemyEventType");if(e.method===F.PENDING_TRANSACTIONS){return tl+":"+ty((t=e).fromAddress)+":"+ty(t.toAddress)+":"+tm(t.hashesOnly)}if(e.method===F.MINED_TRANSACTIONS){return tc+":"+(void 0===(n=(r=e).addresses)?"*":n.map(e=>ty(e.to)+","+ty(e.from)).join("|"))+":"+tm(r.includeRemoved)+":"+tm(r.hashesOnly)}throw Error(`Unrecognized AlchemyFilterEvent: ${e}`)}function tE(e){if(!Object.values(F).includes(e.method))throw Error(`Invalid method name ${e.method}. Accepted method names: ${Object.values(F)}`)}function ty(e){return void 0===e?"*":Array.isArray(e)?e.join("|"):e}function tm(e){return void 0===e?"*":e.toString()}function tA(e){if(""===e)return;let t=e.split("|");return 1===t.length?t[0]:t}class tT{constructor(e){this.config=e}on(e,t){return es(this,void 0,void 0,function*(){let r=yield this.config.getWebSocketProvider(),n=yield this._resolveEnsAlchemyEvent(e);r.on(n,t)}),this}once(e,t){return es(this,void 0,void 0,function*(){let r=yield this.config.getWebSocketProvider(),n=yield this._resolveEnsAlchemyEvent(e);r.once(n,t)}),this}off(e,t){return es(this,void 0,void 0,function*(){let r=yield this.config.getWebSocketProvider(),n=yield this._resolveEnsAlchemyEvent(e);return r.off(n,t)}),this}removeAllListeners(e){return es(this,void 0,void 0,function*(){let t=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;t.removeAllListeners(r)}),this}listenerCount(e){return es(this,void 0,void 0,function*(){let t=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;return t.listenerCount(r)})}listeners(e){return es(this,void 0,void 0,function*(){let t=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;return t.listeners(r)})}_resolveEnsAlchemyEvent(e){return es(this,void 0,void 0,function*(){if(!tg(e))return e;if(e.method===F.MINED_TRANSACTIONS&&e.addresses){let t=[];for(let r of e.addresses)r.to&&(r.to=yield this._resolveNameOrError(r.to)),r.from&&(r.from=yield this._resolveNameOrError(r.from)),t.push(r);e.addresses=t}else e.method===F.PENDING_TRANSACTIONS&&(e.fromAddress&&("string"==typeof e.fromAddress?e.fromAddress=yield this._resolveNameOrError(e.fromAddress):e.fromAddress=yield Promise.all(e.fromAddress.map(e=>this._resolveNameOrError(e)))),e.toAddress&&("string"==typeof e.toAddress?e.toAddress=yield this._resolveNameOrError(e.toAddress):e.toAddress=yield Promise.all(e.toAddress.map(e=>this._resolveNameOrError(e)))));return e})}_resolveNameOrError(e){return es(this,void 0,void 0,function*(){let t=yield this.config.getProvider(),r=yield t.resolveName(e);if(null===r)throw Error(`Unable to resolve the ENS address: ${e}`);return r})}}class tN{constructor(e){this.config=new ey(e),this.core=new eW(this.config),this.nft=new tt(this.config),this.ws=new tT(this.config),this.transact=new td(this.config),this.notify=new tr(this.config),this.debug=new eq(this.config)}}}}]);